<!DOCTYPE html>
<html class="light" dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>

<!-- Primary Meta Tags -->
<title>ุฒูุช ุงูุจุงุฑููุฉ ูุชูุซูู ุงูุดุนุฑ | ุฎูุทุงุช ูููู โ ุทุจูุนู 100%</title>
<meta name="title" content="ุฒูุช ุงูุจุงุฑููุฉ ูุชูุซูู ุงูุดุนุฑ | ุฎูุทุงุช ูููู โ ุทุจูุนู 100%"/>
<meta name="description" content="ุฒูุช ุงูุจุงุฑููุฉ ุจุฎูุงุตุฉ 7 ุฃุนุดุงุจ ุทุจูุนูุฉ ูุชูููุฉ ุงูุดุนุฑ ูููุก ุงููุฑุงุบุงุช. ูุชุงุฆุฌ ูู 3 ุฃุณุงุจูุน. ุชูุตูู ูุฌุงูู + COD. ุตููุน ูู ุงููุบุฑุจ ๐ฒ๐ฆ"/>
<meta name="keywords" content="ุฒูุช ุงูุจุงุฑููุฉ, ุชูุซูู ุงูุดุนุฑ, ุฒูุช ุทุจูุนู ููุดุนุฑ, ุนูุงุฌ ุชุณุงูุท ุงูุดุนุฑ ุงููุบุฑุจ, ุฎูุทุงุช ูููู"/>

<!-- Canonical & Language Alternates -->
<link rel="canonical" href="https://loloblends.ma/"/>
<link rel="alternate" hreflang="ar-MA" href="https://loloblends.ma/"/>
<link rel="alternate" hreflang="fr-MA" href="https://loloblends.ma/?lang=fr"/>
<link rel="alternate" hreflang="x-default" href="https://loloblends.ma/"/>

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website"/>
<meta property="og:url" content="https://loloblends.ma/"/>
<meta property="og:title" content="ุฒูุช ุงูุจุงุฑููุฉ ูุชูุซูู ุงูุดุนุฑ โ ุฎูุทุงุช ูููู"/>
<meta property="og:description" content="ุชุฑููุจุฉ ุทุจูุนูุฉ 100% ูุชูููุฉ ุงูุดุนุฑ ูููุก ุงููุฑุงุบุงุช. ูุชุงุฆุฌ ูุซุจุชุฉ ูู 1,200+ ุฒุจููุฉ ูุบุฑุจูุฉ โจ"/>
<meta property="og:image" content="https://loloblends.ma/assets/og-image-ar.jpg"/>
<meta property="og:image:width" content="1200"/>
<meta property="og:image:height" content="630"/>
<meta property="og:locale" content="ar_MA"/>
<meta property="og:locale:alternate" content="fr_MA"/>

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:title" content="ุฒูุช ุงูุจุงุฑููุฉ ูุชูุซูู ุงูุดุนุฑ โ ุฎูุทุงุช ูููู"/>
<meta name="twitter:description" content="ุชุฑููุจุฉ ุทุจูุนูุฉ 100% ูุชูููุฉ ุงูุดุนุฑ. ุชูุตูู ูุฌุงูู ๐ + COD ูู ุงููุบุฑุจ"/>
<meta name="twitter:image" content="https://loloblends.ma/assets/og-image-ar.jpg"/>

<!-- Mobile -->
<meta name="theme-color" content="#16a34a"/>
<meta name="apple-mobile-web-app-capable" content="yes"/>
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>

<!-- Preconnect -->
<link rel="preconnect" href="https://fonts.googleapis.com" crossorigin/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&family=Noto+Sans+Arabic:wght@400;500;600;700&display=swap&subset=arabic" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>

<!-- Tailwind CDN (loaded synchronously to avoid initial unstyled flash) -->
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>

<script>
tailwind.config = {
  darkMode: "class",
  theme: {
    extend: {
      colors: {
        "primary": { 
          50: "#f0fdf4", 100: "#dcfce7", 200: "#bbf7d0",
          500: "#16a34a", 600: "#15803d", 700: "#166534", 900: "#14532d"
        },
        "accent": { 400: "#fbbf24", 500: "#f59e0b", 600: "#d97706" },
      },
      fontFamily: { "display": ["Manrope", "Noto Sans Arabic", "sans-serif"] },
    },
  },
}
</script>

<style>
body {
  font-family: 'Manrope', 'Noto Sans Arabic', sans-serif;
  min-height: 100dvh;
}
.material-symbols-outlined {
  font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
}
html { scroll-behavior: smooth; }
.reveal {
  opacity: 0;
  transform: translateY(16px);
  transition: opacity .4s ease, transform .4s ease;
}
.reveal.is-visible {
  opacity: 1;
  transform: translateY(0);
}

/* Skip Link */
.skip-link {
  position: absolute;
  top: -100%;
  left: 1rem;
  z-index: 100;
  background: #16a34a;
  color: white;
  padding: 0.5rem 1rem;
  border-radius: 0.5rem;
  font-weight: 600;
  transition: top 0.2s;
}
.skip-link:focus {
  top: 1rem;
}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  html { scroll-behavior: auto; }
}

/* Button Styles */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  border-radius: 0.5rem;
  font-weight: 600;
  font-size: 1rem;
  transition: all 0.2s;
  min-height: 44px;
}
.btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}
.btn-primary {
  background: #16a34a;
  color: white;
}
.btn-primary:hover:not(:disabled) {
  background: #15803d;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(22, 163, 74, 0.3);
}
.btn-secondary {
  background: white;
  color: #16a34a;
  border: 2px solid #16a34a;
}
.btn-secondary:hover:not(:disabled) {
  background: #f0fdf4;
}
.btn-whatsapp {
  background: #25d366;
  color: white;
}
.btn-whatsapp:hover:not(:disabled) {
  background: #20ba5a;
  transform: translateY(-2px);
}

/* Input Styles */
.input-group {
  margin-bottom: 1rem;
}
.input-label {
  display: block;
  font-size: 0.875rem;
  font-weight: 500;
  margin-bottom: 0.5rem;
  color: #374151;
}
.dark .input-label {
  color: #d1d5db;
}
.input {
  width: 100%;
  padding: 0.75rem 1rem;
  border-radius: 0.5rem;
  border: 1px solid #d1d5db;
  background: white;
  font-size: 1rem;
  transition: all 0.2s;
}
.dark .input {
  background: #1f2937;
  border-color: #4b5563;
  color: #f9fafb;
}
.input:focus {
  outline: none;
  border-color: #16a34a;
  box-shadow: 0 0 0 3px rgba(22, 163, 74, 0.1);
}
.input:invalid:not(:placeholder-shown) {
  border-color: #ef4444;
}
.input.is-valid {
  border-color: #10b981;
}
.input-error {
  color: #ef4444;
  font-size: 0.75rem;
  margin-top: 0.25rem;
  display: none;
}
.input-error.is-visible {
  display: block;
}

/* Card Hover */
.card-hover {
  transition: all 0.2s;
}
.card-hover:hover {
  transform: translateY(-4px);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
}

/* Badge */
.badge {
  font-size: 11px;
  padding: 2px 6px;
  border-radius: 9999px;
  background: #16a34a;
  color: white;
  font-weight: 600;
}

/* Dark mode text fix */
.dark .text-muted {
  color: #d1d5db !important;
}

/* Screen reader only */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* Navbar hide on scroll (down) / show on scroll (up) */
#navbar {
  transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
}
#navbar.hide {
  transform: translateY(-100%);
}
#navbar.scrolled {
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
  background-color: rgba(255, 255, 255, 0.98);
}
.dark #navbar.scrolled {
  background-color: rgba(17, 24, 39, 0.98); /* gray-900 */
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.5);
}

/* Anchor scroll offset so sections are not hidden behind header */
.scroll-section {
  scroll-margin-top: 88px;
}
</style>

<!-- JSON-LD Structured Data -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "ุฎูุทุงุช ูููู - Lolo Blends",
  "url": "https://loloblends.ma",
  "logo": "https://loloblends.ma/assets/Lolo-1/lolo-fac-icon.png",
  "description": "ุฒูุช ุทุจูุนู ูุชูุซูู ูุฅุทุงูุฉ ุงูุดุนุฑ ุจุฎูุงุตุฉ ุฒูุช ุงูุจุงุฑููุฉ ูุงูุฃุนุดุงุจ",
  "address": {
    "@type": "PostalAddress",
    "addressCountry": "MA"
  },
  "contactPoint": {
    "@type": "ContactPoint",
    "telephone": "+212-660-928-077",
    "contactType": "Customer Service",
    "areaServed": "MA",
    "availableLanguage": ["ar", "fr"]
  }
}
</script>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Product",
  "name": "ุฒูุช ุงูุจุงุฑููุฉ ูุชูุซูู ุงูุดุนุฑ",
  "description": "ุฒูุช ุทุจูุนู ุจุฎูุงุตุฉ ุงูุฃุนุดุงุจ ูุชูุซูู ุงูุดุนุฑ ูููุก ุงููุฑุงุบุงุช",
  "image": "https://loloblends.ma/assets/oil_product1.jpeg",
  "brand": {
    "@type": "Brand",
    "name": "ุฎูุทุงุช ูููู"
  },
  "offers": [
    {
      "@type": "Offer",
      "name": "ููููุฉ ูุงุญุฏุฉ",
      "price": "199",
      "priceCurrency": "MAD",
      "availability": "https://schema.org/InStock",
      "seller": {
        "@type": "Organization",
        "name": "ุฎูุทุงุช ูููู"
      }
    },
    {
      "@type": "Offer",
      "name": "ุจุงู ููููุชูู",
      "price": "229",
      "priceCurrency": "MAD",
      "availability": "https://schema.org/InStock"
    },
    {
      "@type": "Offer",
      "name": "ุจุงู 3 ููููุงุช",
      "price": "249",
      "priceCurrency": "MAD",
      "availability": "https://schema.org/InStock"
    }
  ],
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "4.8",
    "reviewCount": "1200"
  }
}
</script>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "ููู ููุงุณุจ ูุงุฏ ุงูุฒูุชุ",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "ููุงุณุจ ูุฌููุน ุฃููุงุน ุงูุดุนุฑ: ุงูุฌุงูุ ุงููุตุจูุบุ ุงููุฌุนุฏุ ุฃู ุงููุงุนู. ุญุชู ุฅุฐุง ูุงู ูุฑูุฉ ุฑุฃุณู ุญุณุงุณุฉุ ุงูุชุฑููุจุฉ ุงูุทุจูุนูุฉ ูุทููุฉ ูุขููุฉ."
      }
    },
    {
      "@type": "Question",
      "name": "ูููุงุด ูุณุชุนูููุ",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "ุฏูุฑู ุงูุฒูุช ูู ุงูุฌุฐูุฑ ููุฃุทุฑุงู ูุน ูุณุงุฌ ุฏุงุฆุฑู ุฎูููุ ุฎููู ุณุงุนุชูู ุนูู ุงูุฃููุ ุบุณูู ุจุดุงูุจู ุฎูููุ ูุงุณุชุนูููู ุฌูุฌ ูุฑุงุช ูุงูุฃุณุจูุน."
      }
    },
    {
      "@type": "Question",
      "name": "ูุงุด ูุงูู ุงูุถูุงูุ",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "ุฃููุง! ุถูุงู ุงุณุชุฑุฌุงุน ุงููุงู 14 ููู. ุฅุฐุง ูุงุนุฌุจูุด ุงูููุชุฌุ ุชูุงุตูู ูุนูุง ุนุจุฑ ูุงุชุณุงุจ ููุฑุฌุนู ููู ูููุณู."
      }
    }
  ]
}
</script>

</head>
<body class="bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 font-display">

<!-- Skip to Content -->
<a href="#main-content" class="skip-link">ุชุฎุทู ุฅูู ุงููุญุชูู ุงูุฑุฆูุณู</a>

<div class="relative w-full flex flex-col overflow-x-hidden">

  <!-- Global overlay for sidebars / drawers -->
  <div id="overlay" class="fixed inset-0 bg-black/40 opacity-0 pointer-events-none transition-opacity duration-200 z-40" aria-hidden="true"></div>

<!-- Header -->
<header id="navbar" class="sticky top-0 z-50 bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm border-b border-gray-200 dark:border-gray-800" role="banner">
  <div class="max-w-6xl mx-auto px-4 py-3 flex items-center gap-4">
    <!-- Left: logo + mobile menu -->
    <div class="flex items-center gap-3 flex-1 md:flex-none">
      <button id="menuButton" class="flex md:hidden items-center justify-center h-11 w-11 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800" aria-label="ูุชุญ ุงููุงุฆูุฉ" aria-expanded="false" aria-controls="sidebar">
        <span class="material-symbols-outlined text-gray-900 dark:text-gray-100">menu</span>
      </button>
      <a href="#hero" class="flex items-center gap-2">
        <img src="assets/Lolo-1/lolo-fac-icon.png" alt="ุฎูุทุงุช ูููู" class="h-9 sm:h-10 object-contain"/>
        <span class="hidden sm:inline text-sm font-extrabold text-gray-900 dark:text-gray-100 tracking-tight" data-i18n="brand">ุฎูุทุงุช ูููู</span>
      </a>
    </div>

    <!-- Center: desktop nav -->
    <nav class="hidden md:flex md:flex-1 items-center justify-center gap-6 text-sm font-semibold text-gray-700 dark:text-gray-200">
      <a href="#bundles" class="hover:text-primary-600 dark:hover:text-primary-400" data-i18n="nav_products">๐ ุงูุนุฑูุถ</a>
      <a href="#benefits" class="hover:text-primary-600 dark:hover:text-primary-400" data-i18n="nav_benefits">โจ ุงูููุงุฆุฏ</a>
      <a href="#howto" class="hover:text-primary-600 dark:hover:text-primary-400" data-i18n="nav_how">๐ ุงูุทุฑููุฉ</a>
      <a href="#faq" class="hover:text-primary-600 dark:hover:text-primary-400" data-i18n="nav_faq">โ ุงูุฃุณุฆูุฉ</a>
    </nav>

    <!-- Right: actions -->
    <div class="flex items-center gap-2">
      <a href="#contact" class="hidden md:inline-flex btn btn-primary text-xs px-4 py-2" data-i18n="nav_contact">
        ๐ ุงุทูุจูู ุงูุขู
      </a>
      <button id="themeToggle" class="flex items-center justify-center h-11 w-11 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800" title="ุชุจุฏูู ุงููุถุน ุงููููู" aria-label="ุชุจุฏูู ุงููุถุน ุงููููู">
        <span class="material-symbols-outlined text-gray-900 dark:text-gray-100">dark_mode</span>
      </button>
      <button id="langToggle" class="flex items-center justify-center h-9 px-3 rounded-full bg-gray-100 dark:bg-gray-800 text-xs sm:text-sm font-semibold border border-gray-200 dark:border-gray-700" aria-label="ุชุจุฏูู ุงููุบุฉ ุฅูู ุงููุฑูุณูุฉ" aria-pressed="false">AR</button>
      <button id="cartButton" class="relative flex items-center justify-center h-11 w-11 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800" aria-label="ุนุฑุถ ุณูุฉ ุงููุดุชุฑูุงุช">
        <span class="material-symbols-outlined text-gray-900 dark:text-gray-100">shopping_bag</span>
        <span id="cartCount" class="badge absolute -top-1 -left-1 hidden" aria-live="polite">0</span>
      </button>
    </div>
  </div>
</header>

<!-- Sidebar Navigation -->
<aside id="sidebar" role="navigation" aria-label="ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ" class="fixed inset-y-0 right-0 w-72 max-w-[85vw] translate-x-full transition-transform duration-300 ease-out bg-white dark:bg-gray-900 border-l border-gray-200 dark:border-gray-800 z-50 shadow-xl">
  <div class="p-4 flex items-center justify-between border-b border-gray-200 dark:border-gray-800">
    <h2 class="font-bold text-lg" data-i18n="menu">ุงููุงุฆูุฉ</h2>
    <button id="closeSidebar" class="h-11 w-11 grid place-items-center rounded-md hover:bg-gray-100 dark:hover:bg-gray-800" aria-label="ุฅุบูุงู ุงููุงุฆูุฉ">
      <span class="material-symbols-outlined">close</span>
    </button>
  </div>
  <nav class="p-4 space-y-2">
    <a href="#bundles" class="block rounded-lg px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-800" data-i18n="nav_products">๐ ุงูุนุฑูุถ</a>
    <a href="#benefits" class="block rounded-lg px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-800" data-i18n="nav_benefits">โจ ุงูููุงุฆุฏ</a>
    <a href="#howto" class="block rounded-lg px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-800" data-i18n="nav_how">๐ ุงูุทุฑููุฉ</a>
    <a href="#faq" class="block rounded-lg px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-800" data-i18n="nav_faq">โ ุงูุฃุณุฆูุฉ</a>
    <a href="#contact" class="block rounded-lg px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-800" data-i18n="nav_contact">๐ ุชูุงุตู</a>
  </nav>
</aside>

<!-- Main Content -->
<main id="main-content">

<!-- Hero Section -->
<section id="hero" class="relative min-h-[70vh] flex flex-col items-center justify-center px-6 py-16 text-center overflow-hidden">
  <!-- Background Video -->
  <video 
    class="absolute inset-0 w-full h-full object-cover -z-10" 
    src="assets/Olive Oil.mp4" 
    poster="assets/lolonewpic/WhatsApp Image 2025-11-08 at 15.24.47.jpeg" 
    muted 
    loop 
    playsinline
    preload="metadata"
    data-autoplay="conditional"
    aria-hidden="true"
  ></video>
  <div class="absolute inset-0 bg-gradient-to-b from-black/30 to-black/70 -z-10"></div>
  
  <div class="max-w-3xl space-y-6">
    <h1 class="text-white text-3xl sm:text-4xl md:text-5xl font-extrabold tracking-tight leading-tight" data-i18n="hero_title">
      ุฒูุช ุงูุจุงุฑููุฉ โ ูููู ุงูุชุณุงูุท ูููู ุงููุฑุงุบุงุช ูู 3 ุฃุณุงุจูุน ๐ฟ
    </h1>
    <p class="text-white/90 text-base sm:text-lg max-w-2xl mx-auto" data-i18n="hero_sub">
      ุชุฑููุจุฉ ูุบุฑุจูุฉ 100% ุทุจูุนูุฉ โข ูุชุงุฆุฌ ูู 3 ุฃุณุงุจูุน โข ุฏูุน ุนูุฏ ุงูุงุณุชูุงู
    </p>
    
    <div class="flex flex-col sm:flex-row gap-3 justify-center items-center mt-8">
      <button id="whatsappCTA" class="btn btn-whatsapp w-full sm:w-auto text-lg px-8 py-4" data-i18n="whatsapp">
        ๐ฒ ุงุทูุจู ุนุจุฑ ูุงุชุณุงุจ (ูุฌุงูุงู)
      </button>
      <a href="#contact" class="btn btn-secondary w-full sm:w-auto" data-i18n="form_cta">
        ุฃู ุงููุฆู ุงููููุฐุฌ ุงูุณุฑูุน โ
      </a>
    </div>
    
    <p class="text-white/80 text-sm mt-4" data-i18n="social_proof_micro">
      โญ 4.8/5 ูู +1,200 ุฒุจููุฉ ุฑุงุถูุฉ ูู ุงููุบุฑุจ
    </p>
  </div>
</section>

<!-- Trust Bar -->
<div class="grid grid-cols-1 sm:grid-cols-3 gap-4 px-4 py-8 max-w-5xl mx-auto reveal">
  <div class="flex flex-col items-center text-center p-6 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800">
    <span class="text-4xl mb-3">๐</span>
    <p class="font-semibold text-gray-900 dark:text-gray-100" data-i18n="usp_shipping">ุชูุตูู ูุฌุงูู</p>
    <p class="text-sm text-gray-600 dark:text-gray-400 mt-1" data-i18n="usp_shipping_sub">ุนูู ุฌููุน ุงูุทูุจุงุช ุฏุงุฎู ุงููุบุฑุจ</p>
  </div>
  <div class="flex flex-col items-center text-center p-6 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800">
    <span class="text-4xl mb-3">๐ต</span>
    <p class="font-semibold text-gray-900 dark:text-gray-100" data-i18n="usp_cod">ุงูุฏูุน ุนูุฏ ุงูุงุณุชูุงู</p>
    <p class="text-sm text-gray-600 dark:text-gray-400 mt-1" data-i18n="usp_cod_sub">ุงุฏูุนู ุนูุฏ ูุตูู ุทูุจู</p>
  </div>
  <div class="flex flex-col items-center text-center p-6 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800">
    <span class="text-4xl mb-3">๐ฒ๐ฆ</span>
    <p class="font-semibold text-gray-900 dark:text-gray-100" data-i18n="usp_local">ุตููุน ูู ุงููุบุฑุจ</p>
    <p class="text-sm text-gray-600 dark:text-gray-400 mt-1" data-i18n="usp_local_sub">ุฌูุฏุฉ ูุถูููุฉ ูููููุงุช ุทุจูุนูุฉ</p>
  </div>
</div>

<!-- Benefits Section -->
<section id="benefits" class="scroll-section px-4 py-16 reveal" aria-labelledby="benefits-heading">
  <div class="max-w-5xl mx-auto">
    <h2 id="benefits-heading" class="text-center text-3xl font-extrabold mb-10" data-i18n="benefits_title">ุนูุงุด ุชุฎุชุงุฑู ุฎูุทุงุช ููููุ</h2>
    <div class="grid gap-6 sm:grid-cols-3">
      <div class="rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-6 text-center card-hover">
        <div class="w-20 h-20 mx-auto mb-4 rounded-full bg-primary-50 dark:bg-primary-900/20 flex items-center justify-center">
          <span class="text-4xl">๐ฟ</span>
        </div>
        <h3 class="font-bold text-xl mb-3" data-i18n="b1_title">ุฒูุช ุงูุจุงุฑููุฉ</h3>
        <p class="text-sm text-gray-600 dark:text-gray-300 leading-relaxed" data-i18n="b1_desc">ูููู ุงูุจุตููุงุช ููููู ุงูุชุณุงูุท ููุญูุฒ ููู ุงูุฎูููุฉ ูู ุงูุฌุฐูุฑ</p>
      </div>
      <div class="rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-6 text-center card-hover">
        <div class="w-20 h-20 mx-auto mb-4 rounded-full bg-primary-50 dark:bg-primary-900/20 flex items-center justify-center">
          <span class="text-4xl">โจ</span>
        </div>
        <h3 class="font-bold text-xl mb-3" data-i18n="b2_title">ุฎูุงุตุฉ 7 ุฃุนุดุงุจ</h3>
        <p class="text-sm text-gray-600 dark:text-gray-300 leading-relaxed" data-i18n="b2_desc">ุชุฑุทูุจ ุนููู ูููุนุงู ุทุจูุนู ูุญูุงูุฉ ูู ุงูุชูุตู ุจุฏูู ุฅุซูุงู</p>
      </div>
      <div class="rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-6 text-center card-hover">
        <div class="w-20 h-20 mx-auto mb-4 rounded-full bg-primary-50 dark:bg-primary-900/20 flex items-center justify-center">
          <span class="text-4xl">๐</span>
        </div>
        <h3 class="font-bold text-xl mb-3" data-i18n="b3_title">ูุซุงูุฉ ูุทูู</h3>
        <p class="text-sm text-gray-600 dark:text-gray-300 leading-relaxed" data-i18n="b3_desc">ููุก ุงููุฑุงุบุงุช ูุทูู ููุญูุธ ูุน ุงูุงุณุชุนูุงู ุงูููุชุธู ุฌูุฌ ูุฑุงุช ูุงูุฃุณุจูุน</p>
      </div>
    </div>
  </div>
</section>

<!-- Results Section -->
<section id="results" class="px-4 py-16 reveal bg-gray-50 dark:bg-gray-800/50" aria-labelledby="results-heading">
  <div class="max-w-4xl mx-auto">
    <h2 id="results-heading" class="text-center text-3xl font-extrabold mb-6" data-i18n="results_title">ูุชุงุฆุฌ ูุฌุฑูุจุฉ ูู ุฒุจููุงุชูุง</h2>
    <p class="text-center text-gray-700 dark:text-gray-300 mb-8 leading-relaxed" data-i18n="results_intro">
      ุจูุถู ุชุฑููุจุฉ ุฒูุช ุงูุจุงุฑููุฉ ูุฎูุงุตุฉ ุงูุฃุนุดุงุจุ ุนุฏุฏ ูุจูุฑ ูู ุงูุฒุจููุงุช ูุงุญุธู ูุฑู ูุงุถุญ ูู ุงูุชุณุงูุท ูุงููุฑุงุบุงุช ูุงูููุนุงู ูู ุงูุฃุณุงุจูุน ุงูุฃููู
    </p>
    <div class="grid sm:grid-cols-2 gap-4 mb-6">
      <div class="flex items-start gap-3 p-4 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700">
        <span class="text-2xl flex-shrink-0">โ</span>
        <p class="text-sm text-gray-700 dark:text-gray-300" data-i18n="results_p1">ุงูุฎูุงุถ ููุญูุธ ูู ุงูุชุณุงูุท ุจูุณุจุฉ 40% ูุชูููุฉ ุงูุฌุฐูุฑ*</p>
      </div>
      <div class="flex items-start gap-3 p-4 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700">
        <span class="text-2xl flex-shrink-0">โ</span>
        <p class="text-sm text-gray-700 dark:text-gray-300" data-i18n="results_p2">ุชุญููุฒ ููู ุงูุฎูููุฉ ูููุก ุงููุฑุงุบุงุช ุจุดูู ุทุจูุนู</p>
      </div>
      <div class="flex items-start gap-3 p-4 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700">
        <span class="text-2xl flex-shrink-0">โ</span>
        <p class="text-sm text-gray-700 dark:text-gray-300" data-i18n="results_p3">ุชุฑุทูุจ ุนููู ูููุนุงู ุทุจูุนู ุจุฏูู ุฅุซูุงู ุงูุดุนุฑ</p>
      </div>
      <div class="flex items-start gap-3 p-4 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700">
        <span class="text-2xl flex-shrink-0">โ</span>
        <p class="text-sm text-gray-700 dark:text-gray-300" data-i18n="results_p4">ุชุญุณู ุงููุซุงูุฉ ูุงูุทูู ูุน ุงูุงุณุชุนูุงู ุฌูุฌ ูุฑุงุช ูุงูุฃุณุจูุน</p>
      </div>
    </div>
    <p class="text-center text-xs text-gray-500 dark:text-gray-400" data-i18n="results_note">
      *ุญุณุจ ุชุฌุงุฑุจ 200+ ุฒุจููุฉ. ุงููุชุงุฆุฌ ูุฏ ุชุฎุชูู ุญุณุจ ุทุจูุนุฉ ุงูุดุนุฑ ูุฑูุชูู ุงูุนูุงูุฉ
    </p>
  </div>
</section>

<!-- Bundles Section -->
<section id="bundles" class="scroll-section px-4 py-16 reveal" aria-labelledby="bundles-heading">
  <div class="max-w-5xl mx-auto">
    <!-- Flash sale urgency bar -->
    <div class="mb-6 rounded-xl bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 px-4 py-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2">
      <div class="flex items-center gap-2">
        <span class="text-xl">โฐ</span>
        <p class="text-sm sm:text-base font-semibold text-red-800 dark:text-red-100" data-i18n="flash_title">
          ุนุฑุถ ุงูููู: ุชุฎููุถ ูุญุฏูุฏ ุนูู ุจุงูุงุช ุฒูุช ุงูุจุงุฑููุฉ
        </p>
      </div>
      <p class="text-sm sm:text-base text-red-700 dark:text-red-200">
        <span data-i18n="flash_label">ุงูุนุฑุถ ููุณุงูู ูู</span>
        <span id="flashTimer" class="font-mono font-bold ml-1 tabular-nums">--:--:--</span>
      </p>
    </div>

    <h2 id="bundles-heading" class="text-center text-3xl font-extrabold mb-10" data-i18n="bundles_title">ุงูุนุฑูุถ</h2>
    <div class="grid grid-cols-1 sm:grid-cols-3 gap-6">
      
      <!-- Bundle 1 -->
      <div class="rounded-xl overflow-hidden border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-sm card-hover">
        <div class="h-56 bg-gray-100 dark:bg-gray-700 flex items-center justify-center p-4">
          <img src="assets/lolonewpic/WhatsApp Image 2025-11-08 at 15.23.21 (1).jpeg" alt="ููููุฉ ูุงุญุฏุฉ ุญููููุฉ ูู ุฒูุช ุงูุจุงุฑููุฉุ 100 ูู" class="h-full w-auto object-contain" loading="lazy"/>
        </div>
        <div class="p-5">
          <h3 class="font-bold text-xl mb-2" data-i18n="bndl1">ููููุฉ ูุงุญุฏุฉ</h3>
          <p class="text-xs text-gray-600 dark:text-gray-400 mb-3" data-i18n="bndl1_desc">ููุชุฌุฑุจุฉ โข ููุงูุฉ ุดูุฑ</p>
          <p class="text-3xl font-extrabold text-primary-600 dark:text-primary-400 mb-4">
            199 <span class="text-base">ุฏ.ู</span>
          </p>
          <div class="space-y-2">
            <button class="btn btn-primary w-full text-sm" data-add-bundle="b1" data-i18n="add_to_cart">๐ ุฃุถู ููุณูุฉ</button>
            <div class="grid grid-cols-2 gap-2">
              <button class="btn btn-secondary text-xs py-2" data-normal="b1" data-i18n="normal_order">ุทูุจ ุนุงุฏู</button>
              <button class="btn btn-whatsapp text-xs py-2" data-wa="1" data-i18n="order_whatsapp">ูุงุชุณุงุจ</button>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Bundle 2 (MOST POPULAR) -->
      <div class="rounded-xl overflow-hidden border-2 border-primary-500 bg-white dark:bg-gray-800 shadow-lg card-hover relative">
        <div class="absolute top-3 left-3 bg-primary-500 text-white text-xs font-bold px-3 py-1 rounded-full z-10" data-i18n="badge_popular">๐ฅ ุงูุฃูุซุฑ ูุจูุนุงู</div>
        <div class="h-56 bg-gray-100 dark:bg-gray-700 flex items-center justify-center p-4">
          <img src="assets/lolonewpic/WhatsApp Image 2025-11-08 at 15.23.21 (2).jpeg" alt="ุจุงู ุญูููู ูููููุชูู ูู ุฒูุช ุงูุจุงุฑููุฉ" class="h-full w-auto object-cover" loading="lazy"/>
        </div>
        <div class="p-5">
          <h3 class="font-bold text-xl mb-2" data-i18n="bndl2">ุจุงู ููููุชูู</h3>
          <p class="text-xs text-gray-600 dark:text-gray-400 mb-3" data-i18n="bndl2_desc">ุฃูุซุฑ ุนุฑุถ ูุทููุจ โข ููุงูุฉ ุดูุฑูู</p>
          <p class="text-3xl font-extrabold text-primary-600 dark:text-primary-400 mb-4">
            229 <span class="text-base">ุฏ.ู</span>
          </p>
          <div class="space-y-2">
            <button class="btn btn-primary w-full text-sm" data-add-bundle="b2" data-i18n="add_to_cart">๐ ุฃุถู ููุณูุฉ</button>
            <div class="grid grid-cols-2 gap-2">
              <button class="btn btn-secondary text-xs py-2" data-normal="b2" data-i18n="normal_order">ุทูุจ ุนุงุฏู</button>
              <button class="btn btn-whatsapp text-xs py-2" data-wa="2" data-i18n="order_whatsapp">ูุงุชุณุงุจ</button>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Bundle 3 -->
      <div class="rounded-xl overflow-hidden border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-sm card-hover">
        <div class="h-56 bg-gray-100 dark:bg-gray-700 flex items-center justify-center p-4">
          <img src="assets/lolonewpic/WhatsApp Image 2025-11-08 at 15.23.21 (3).jpeg" alt="ุจุงู ุญูููู ูุซูุงุซ ููููุงุช ูู ุฒูุช ุงูุจุงุฑููุฉ" class="h-full w-auto object-cover" loading="lazy"/>
        </div>
        <div class="p-5">
          <h3 class="font-bold text-xl mb-2" data-i18n="bndl3">ุจุงู 3 ููููุงุช</h3>
          <p class="text-xs text-gray-600 dark:text-gray-400 mb-3" data-i18n="bndl3_desc">ุฃูุถู ูููุฉ ููุจูุงุช ุงููู ุจุงุบููู ููุฑุณ 3 ุดููุฑ</p>
          <p class="text-3xl font-extrabold text-primary-600 dark:text-primary-400 mb-1">
            249 <span class="text-base">ุฏ.ู</span>
          </p>
          <p id="stockB3" class="text-xs font-semibold text-red-600 dark:text-red-400 mb-4"></p>
          <div class="space-y-2">
            <button class="btn btn-primary w-full text-sm" data-add-bundle="b3" data-i18n="add_to_cart">๐ ุฃุถู ููุณูุฉ</button>
            <div class="grid grid-cols-2 gap-2">
              <button class="btn btn-secondary text-xs py-2" data-normal="b3" data-i18n="normal_order">ุทูุจ ุนุงุฏู</button>
              <button class="btn btn-whatsapp text-xs py-2" data-wa="3" data-i18n="order_whatsapp">ูุงุชุณุงุจ</button>
            </div>
          </div>
        </div>
      </div>
      
    </div>
    
    <!-- Seasonal Campaign -->
    <div class="mt-8 p-6 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-700 rounded-xl text-center">
      <p class="font-semibold text-amber-800 dark:text-amber-200 mb-2" data-i18n="seasonal_title">๐ ุนุฑุถ ุฑูุถุงู: ูุฏูุฉ ูุฌุงููุฉ ูุน ุฃู ุทูุจ ููู 299 ุฏ.ู</p>
      <p class="text-sm text-amber-700 dark:text-amber-300" data-i18n="seasonal_sub">ูุซุงูู ูุชุญุถูุฑ ุดุนุฑู ูุฑูุถุงูุ ุงูุฃุนูุงุฏ ู ุงูุนูุฏุฉ ูููุฏุงุฑุณ.</p>
    </div>

    <!-- Guarantee -->
    <div class="mt-6 p-6 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-xl text-center">
      <p class="font-semibold text-green-800 dark:text-green-300 mb-2" data-i18n="guarantee_title">โ ุถูุงู ุงุณุชุฑุฌุงุน ุงููุงู 14 ููู</p>
      <p class="text-sm text-green-700 dark:text-green-400" data-i18n="guarantee_desc">ุฅุฐุง ูุง ุนุฌุจูุด ุงูููุชุฌ ูุฃู ุณุจุจุ ูุฑุฌุนู ููู ูููุณู ูุงููุฉ ุจุฏูู ุฃุณุฆูุฉ</p>
    </div>
  </div>
</section>

<!-- How To Use -->
<section id="howto" class="scroll-section px-4 py-16 reveal bg-gray-50 dark:bg-gray-800/50" aria-labelledby="howto-heading">
  <div class="max-w-4xl mx-auto">
    <h2 id="howto-heading" class="text-center text-3xl font-extrabold mb-10" data-i18n="how_title">ุทุฑููุฉ ุงูุงุณุชุนูุงู</h2>
    <div class="grid gap-6 sm:grid-cols-3">
      <div class="rounded-xl p-6 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-center">
        <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-accent-100 dark:bg-accent-900/20 flex items-center justify-center">
          <span class="text-3xl">๐โโ๏ธ</span>
        </div>
        <h3 class="font-bold mb-2" data-i18n="how_step1_title">1. ุงูุชุทุจูู</h3>
        <p class="text-sm text-gray-600 dark:text-gray-300" data-i18n="how_1">ุฏูุฑู ุงูุฒูุช ูู ุงูุฌุฐูุฑ ููุฃุทุฑุงู ูุน ูุณุงุฌ ุฏุงุฆุฑู ุฎููู ููุฏุฉ 2-3 ุฏูุงุฆู</p>
      </div>
      <div class="rounded-xl p-6 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-center">
        <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-accent-100 dark:bg-accent-900/20 flex items-center justify-center">
          <span class="text-3xl">โฐ</span>
        </div>
        <h3 class="font-bold mb-2" data-i18n="how_step2_title">2. ุงูุงูุชุธุงุฑ</h3>
        <p class="text-sm text-gray-600 dark:text-gray-300" data-i18n="how_2">ุฎููู ุณุงุนุชูู ุนูู ุงูุฃูู ุฃู ุทูู ุงูููู ูููุชุงุฆุฌ ุงูุฃูุถู</p>
      </div>
      <div class="rounded-xl p-6 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-center">
        <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-accent-100 dark:bg-accent-900/20 flex items-center justify-center">
          <span class="text-3xl">๐</span>
        </div>
        <h3 class="font-bold mb-2" data-i18n="how_step3_title">3. ุงูุชูุฑุงุฑ</h3>
        <p class="text-sm text-gray-600 dark:text-gray-300" data-i18n="how_3">ุงุณุชุนูููู ุฌูุฌ ูุฑุงุช ูุงูุฃุณุจูุน ูุดุงูุฏู ุงููุฑู ุฎูุงู 3 ุฃุณุงุจูุน</p>
      </div>
    </div>
  </div>
</section>

<!-- Testimonial -->
<section class="px-4 py-16 reveal" aria-labelledby="testimonial-heading">
  <div class="max-w-4xl mx-auto">
    <h2 id="testimonial-heading" class="text-center text-3xl font-extrabold mb-10" data-i18n="social_proof">ุฒุจุงุฆููุง ุงูุฑุงุถูู</h2>
    <div class="bg-white dark:bg-gray-800 rounded-xl p-8 border border-gray-200 dark:border-gray-700 shadow-sm">
      <div class="flex items-center gap-1 justify-center mb-4">
        <span class="text-2xl">โญ</span>
        <span class="text-2xl">โญ</span>
        <span class="text-2xl">โญ</span>
        <span class="text-2xl">โญ</span>
        <span class="text-2xl">โญ</span>
      </div>
      <blockquote class="text-center">
        <p class="text-lg italic text-gray-700 dark:text-gray-300 mb-4" data-i18n="testimonial_body">
          "ุญูุช ุฌุฑุจุชูุ ูุงุญุธุช ุงููุฑู ูู ุงูุชุณุงูุท ูู ุฃูู ุฃุณุจูุนูู. ุดุนุฑู ููุง ูุซูู ูููู ููุนุฉ ุทุจูุนูุฉ. ุดูุฑุงู ุฎูุทุงุช ูููู!"
        </p>
        <footer>
          <p class="font-bold text-gray-900 dark:text-gray-100" data-i18n="testimonial_author">โ ุณ.ูุ ูุฑุงูุด</p>
          <p class="text-sm text-gray-500 dark:text-gray-400">ุฃูุชูุจุฑ 2024</p>
        </footer>
      </blockquote>
    </div>
    
    <!-- Photo Grid (real product shots) -->
    <div class="grid grid-cols-3 gap-2 mt-8">
      <img class="aspect-square w-full object-cover rounded-lg" src="assets/lolonewpic/WhatsApp Image 2025-11-08 at 15.23.21.jpeg" alt="ุตูุฑุฉ ุญููููุฉ ูุฒูุช ุงูุจุงุฑููุฉ ูู ุฎูุทุงุช ูููู" loading="lazy"/>
      <img class="aspect-square w-full object-cover rounded-lg" src="assets/lolonewpic/WhatsApp Image 2025-11-08 at 15.24.47.jpeg" alt="ููููุงุช ุฒูุช ุงูุจุงุฑููุฉ ุงูุญููููุฉ ูู ุฎูุทุงุช ูููู" loading="lazy"/>
      <img class="aspect-square w-full object-cover rounded-lg" src="assets/lolonewpic/WhatsApp Image 2025-11-08 at 15.23.21 (3).jpeg" alt="ุชุบููู ุญูููู ูุฒูุช ุฎูุทุงุช ูููู" loading="lazy"/>
    </div>
  </div>
</section>

<!-- FAQ -->
<section id="faq" class="scroll-section px-4 py-16 reveal bg-gray-50 dark:bg-gray-800/50" aria-labelledby="faq-heading">
  <div class="max-w-3xl mx-auto">
    <h2 id="faq-heading" class="text-center text-3xl font-extrabold mb-10">ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ</h2>
    <div class="space-y-4">
      <details class="group rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-5">
        <summary class="cursor-pointer font-semibold text-lg flex items-center justify-between">
          <span>ููู ููุงุณุจ ูุงุฏ ุงูุฒูุชุ</span>
          <span class="transform group-open:rotate-180 transition-transform">โผ</span>
        </summary>
        <p class="mt-4 text-gray-600 dark:text-gray-300 leading-relaxed">ููุงุณุจ ูุฌููุน ุฃููุงุน ุงูุดุนุฑ: ุงูุฌุงูุ ุงููุตุจูุบุ ุงููุฌุนุฏุ ุฃู ุงููุงุนู. ุญุชู ุฅุฐุง ูุงู ูุฑูุฉ ุฑุฃุณู ุญุณุงุณุฉุ ุงูุชุฑููุจุฉ ุงูุทุจูุนูุฉ ูุทููุฉ ูุขููุฉ โ</p>
      </details>
      <details class="group rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-5">
        <summary class="cursor-pointer font-semibold text-lg flex items-center justify-between">
          <span>ูููุงุด ูุณุชุนูููุ</span>
          <span class="transform group-open:rotate-180 transition-transform">โผ</span>
        </summary>
        <div class="mt-4 text-gray-600 dark:text-gray-300 space-y-2">
          <p>1๏ธโฃ ุฏูุฑู ุงูุฒูุช ูู ุงูุฌุฐูุฑ ููุฃุทุฑุงู ูุน ูุณุงุฌ ุฏุงุฆุฑู ุฎููู (2-3 ุฏูุงุฆู)</p>
          <p>2๏ธโฃ ุฎููู ุณุงุนุชูู ุนูู ุงูุฃูู โ ุฃู ุทูู ุงูููู ููุชุงุฆุฌ ุฃูุถู</p>
          <p>3๏ธโฃ ุบุณูู ุจุดุงูุจู ุฎููู ุจุงููุงุก ุงูุฏุงูุฆ</p>
          <p>4๏ธโฃ ุงุณุชุนูููู ุฌูุฌ ูุฑุงุช ูุงูุฃุณุจูุน (ุงูุฃุฑุจุนุงุก + ุงูุณุจุช ูุซูุงู) โจ</p>
        </div>
      </details>
      <details class="group rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-5">
        <summary class="cursor-pointer font-semibold text-lg flex items-center justify-between">
          <span>ูุงุด ูุงูู ุงูุถูุงูุ</span>
          <span class="transform group-open:rotate-180 transition-transform">โผ</span>
        </summary>
        <p class="mt-4 text-gray-600 dark:text-gray-300 leading-relaxed">ุฃููุง! ุถูุงู ุงุณุชุฑุฌุงุน ุงููุงู 14 ููู. ุฅุฐุง ูุงุนุฌุจูุด ุงูููุชุฌ (ูุฃู ุณุจุจ)ุ ุชูุงุตูู ูุนูุง ุนุจุฑ ูุงุชุณุงุจ ููุฑุฌุนู ููู ูููุณู. ุจูุง ุฃุณุฆูุฉ ๐ (ููุงุญุธุฉ: ุงูุถูุงู ููุท ููุทูุจุงุช ุฏุงุฎู ุงููุบุฑุจ ูุน COD)</p>
      </details>
      <details class="group rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-5">
        <summary class="cursor-pointer font-semibold text-lg flex items-center justify-between">
          <span>ูุงุด ูุงูู ุงูุชูุตููุ</span>
          <span class="transform group-open:rotate-180 transition-transform">โผ</span>
        </summary>
        <p class="mt-4 text-gray-600 dark:text-gray-300 leading-relaxed">ุงูุชูุตูู ูุชููุฑ ูุฌููุน ูุฏู ุงููุบุฑุจ ๐ฒ๐ฆ (ุงูุฏุงุฑ ุงูุจูุถุงุกุ ุงูุฑุจุงุทุ ุทูุฌุฉุ ูุฑุงูุดุ ูุงุณุ ูููุงุณุ ุฃูุงุฏูุฑุ ูุฌุฏุฉุ ุขุณููุ ุงูุฌุฏูุฏุฉุ ุชุทูุงู...) ุฎูุงู 2-4 ุฃูุงู ุนูู. ุงูุชูุตูู ูุฌุงูู ูุงูุฏูุน ุนูุฏ ุงูุงุณุชูุงู.</p>
      </details>
      <details class="group rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-5">
        <summary class="cursor-pointer font-semibold text-lg flex items-center justify-between">
          <span>ุดุญุงู ููุฎูุฏ ุจุงุด ูุดูู ุงููุชุงุฆุฌุ</span>
          <span class="transform group-open:rotate-180 transition-transform">โผ</span>
        </summary>
        <p class="mt-4 text-gray-600 dark:text-gray-300 leading-relaxed">ูุนุธู ุงูุฒุจููุงุช ูููุงุญุธู ุงูุฎูุงุถ ูู ุงูุชุณุงูุท ูู ุงูุฃุณุจูุน ุงูุซุงูู ุฃู ุงูุซุงูุซ. ุฃูุง ุงููุซุงูุฉ ูุงูุทููุ ููุธูุฑู ุจุนุฏ ุดูุฑ ุฅูู ุดูุฑูู ูู ุงูุงุณุชุนูุงู ุงูููุชุธู (ุฌูุฌ ูุฑุงุช ูุงูุฃุณุจูุน). ุงููุชุงุฆุฌ ูุชุฎุชูู ุญุณุจ ุทุจูุนุฉ ุงูุดุนุฑ ๐</p>
      </details>
    </div>
  </div>
</section>

<!-- Contact Form -->
<section id="contact" class="scroll-section px-4 py-16 reveal" aria-labelledby="contact-heading">
  <div class="max-w-lg mx-auto">
    <div class="rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-8 shadow-sm">
      <h2 id="contact-heading" class="text-center text-3xl font-bold mb-2" data-i18n="cta_title">ุงุทูุจู ุงูุขู</h2>
      <p class="text-center text-gray-600 dark:text-gray-400 mb-6" data-i18n="cta_sub">ุงููุฆู ุงููููุฐุฌ ูุณูุชุตู ุจู ุฎูุงู ุณุงุนุฉ ููุชุฃููุฏ</p>
      
      <!-- Order Summary -->
      <div id="orderSummary" class="mb-6 hidden">
        <h3 class="font-bold mb-3" data-i18n="review_title">๐ฆ ูุฑุงุฌุนุฉ ุงูุทูุจ</h3>
        <div class="rounded-lg border border-gray-200 dark:border-gray-700 p-4 bg-gray-50 dark:bg-gray-900/50">
          <ul id="orderSummaryList" class="space-y-2 text-sm"></ul>
          <div class="mt-3 pt-3 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between font-bold text-lg">
            <span data-i18n="total">ุงูุฅุฌูุงูู</span>
            <span id="orderSummaryTotal" class="text-primary-600 dark:text-primary-400">0</span>
          </div>
        </div>
      </div>
      
      <!-- Form -->
      <form id="contactForm" class="space-y-4" novalidate>
        <div class="input-group">
          <label for="name" class="input-label">
            ุงูุงุณู ุงููุงูู <abbr title="ูุทููุจ" class="text-red-500 no-underline">*</abbr>
          </label>
          <input 
            type="text" 
            id="name" 
            name="name"
            class="input" 
            placeholder="ูุซุงู: ูุงุทูุฉ ุงูุฒูุฑุงุก"
            required
            aria-required="true"
            aria-describedby="name-hint"
          />
          <p id="name-hint" class="text-xs text-gray-500 dark:text-gray-400 mt-1">ุฃุฏุฎูู ุงุณูู ุงููุงูู ููุง ูู ุจุทุงูุฉ ุงูุชุนุฑูู</p>
          <p id="name-error" class="input-error" role="alert"></p>
        </div>
        
        <div class="input-group">
          <label for="phone" class="input-label">
            ุฑูู ุงููุงุชู <abbr title="ูุทููุจ" class="text-red-500 no-underline">*</abbr>
          </label>
          <div class="relative">
            <span class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400">๐ฑ</span>
            <input 
              type="tel" 
              id="phone" 
              name="phone"
              class="input pr-10" 
              placeholder="ูุซุงู: 0612345678"
              required
              aria-required="true"
              aria-describedby="phone-hint phone-error"
            />
            <span id="phone-valid" class="absolute left-3 top-1/2 -translate-y-1/2 text-green-500 hidden">โ</span>
          </div>
          <p id="phone-hint" class="text-xs text-gray-500 dark:text-gray-400 mt-1">ุฃุฏุฎูู ุฑูู ูุงุชูู ุงููุบุฑุจู (06 ุฃู 07)</p>
          <p id="phone-error" class="input-error" role="alert"></p>
        </div>
        
        <div class="input-group">
          <label for="email" class="input-label">
            ุงูุจุฑูุฏ ุงูุฅููุชุฑููู <span class="text-gray-400 text-xs">(ุงุฎุชูุงุฑู)</span>
          </label>
          <input 
            type="email" 
            id="email" 
            name="email"
            class="input" 
            placeholder="exemple@gmail.com"
            aria-describedby="email-hint"
          />
          <p id="email-hint" class="text-xs text-gray-500 dark:text-gray-400 mt-1">ููุญุตูู ุนูู ุชุฃููุฏ ุงูุทูุจ ุนุจุฑ ุงูุจุฑูุฏ</p>
        </div>
        
        <div class="input-group">
          <label for="city" class="input-label">
            ุงููุฏููุฉ <abbr title="ูุทููุจ" class="text-red-500 no-underline">*</abbr>
          </label>
          <input 
            type="text" 
            id="city" 
            name="city"
            class="input" 
            placeholder="ูุซุงู: ุงูุฏุงุฑ ุงูุจูุถุงุก"
            required
            aria-required="true"
            list="cities"
          />
          <datalist id="cities">
            <option value="ุงูุฏุงุฑ ุงูุจูุถุงุก">
            <option value="ุงูุฑุจุงุท">
            <option value="ูุฑุงูุด">
            <option value="ูุงุณ">
            <option value="ุทูุฌุฉ">
            <option value="ุฃูุงุฏูุฑ">
            <option value="ูููุงุณ">
            <option value="ูุฌุฏุฉ">
            <option value="ุงููููุทุฑุฉ">
            <option value="ุชุทูุงู">
            <option value="ุณูุง">
            <option value="ุชูุงุฑุฉ">
          </datalist>
          <p id="city-error" class="input-error" role="alert"></p>
        </div>
        
        <div class="input-group">
          <label for="address" class="input-label">
            ุงูุนููุงู <abbr title="ูุทููุจ" class="text-red-500 no-underline">*</abbr>
          </label>
          <textarea 
            id="address" 
            name="address"
            class="input" 
            placeholder="ูุซุงู: ุญู ุงููุญุงููุฏุ ุดุงุฑุน ุงูุญุณู ุงูุซุงููุ ุฑูู 45"
            rows="2"
            required
            aria-required="true"
          ></textarea>
          <p id="address-error" class="input-error" role="alert"></p>
        </div>
        
        <!-- Security Badge -->
        <div class="flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-900/50 p-3 rounded-lg">
          <span class="text-lg">๐</span>
          <span>ูุนูููุงุชู ุขููุฉ 100% ููุญููุฉ</span>
        </div>
        
        <button 
          id="orderSubmitBtn" 
          type="submit" 
          class="btn btn-primary w-full text-lg py-4"
          data-i18n="confirm_order"
        >
          โ ุชุฃููุฏ ุงูุทูุจ (COD)
        </button>
      </form>
    </div>
  </div>
</section>

</main>

<!-- Mini-cart Drawer -->
<aside id="miniCart" role="dialog" aria-label="ุณูุฉ ุงููุดุชุฑูุงุช" class="fixed inset-y-0 left-0 w-[90vw] max-w-md -translate-x-full transition-transform duration-300 ease-out bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-800 z-50 shadow-xl">
  <div class="p-4 flex items-center justify-between border-b border-gray-200 dark:border-gray-800">
    <h2 class="font-bold text-lg" data-i18n="cart_title">ุณูุฉ ุงููุดุชุฑูุงุช</h2>
    <button id="closeCart" class="h-11 w-11 grid place-items-center rounded-md hover:bg-gray-100 dark:hover:bg-gray-800" aria-label="ุฅุบูุงู ุงูุณูุฉ">
      <span class="material-symbols-outlined">close</span>
    </button>
  </div>
  <div class="p-4 space-y-3 overflow-y-auto max-h-[50vh]" id="cartItems"></div>
  <div class="p-4 border-t border-gray-200 dark:border-gray-800 space-y-3">
    <div class="flex items-center justify-between text-xl font-bold">
      <span data-i18n="total">ุงูุฅุฌูุงูู</span>
      <span id="cartTotal" class="text-primary-600 dark:text-primary-400">0</span>
    </div>
    <div class="grid grid-cols-2 gap-2">
      <a href="#contact" class="btn btn-secondary text-sm py-3" data-i18n="normal_order">ุทูุจ ุนุงุฏู</a>
      <button id="waOrderBtnCart" class="btn btn-whatsapp text-sm py-3" data-i18n="order_whatsapp">๐ฒ ูุงุชุณุงุจ</button>
    </div>
  </div>
</aside>

<!-- Footer -->
<footer role="contentinfo" class="bg-gray-50 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800">
  <div class="max-w-7xl mx-auto px-4 py-12">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-8">
      
      <!-- Column 1: Brand -->
      <div>
        <h3 class="font-bold text-lg mb-4" data-i18n="brand">ุฎูุทุงุช ูููู</h3>
        <p class="text-sm text-gray-600 dark:text-gray-400 mb-4" data-i18n="footer_about">ุฒูุช ุทุจูุนู ูุชูุซูู ูุฅุทุงูุฉ ุงูุดุนุฑ ุจุฎูุงุตุฉ ุฒูุช ุงูุจุงุฑููุฉ ูุงูุฃุนุดุงุจ</p>
        <div class="flex gap-3">
          <a href="#" class="text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400" aria-label="Instagram">
            <span class="material-symbols-outlined">photo_camera</span>
          </a>
          <a href="#" class="text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400" aria-label="Facebook">
            <span class="material-symbols-outlined">social_leaderboard</span>
          </a>
        </div>
      </div>
      
      <!-- Column 2: Quick Links -->
      <div>
        <h3 class="font-bold mb-4">ุฑูุงุจุท ุณุฑูุนุฉ</h3>
        <ul class="space-y-2 text-sm">
          <li><a href="#bundles" class="text-gray-600 dark:text-gray-400 hover:text-primary-600">ุงูุนุฑูุถ</a></li>
          <li><a href="#benefits" class="text-gray-600 dark:text-gray-400 hover:text-primary-600">ุงูููุงุฆุฏ</a></li>
          <li><a href="#faq" class="text-gray-600 dark:text-gray-400 hover:text-primary-600">ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ</a></li>
          <li><a href="#howto" class="text-gray-600 dark:text-gray-400 hover:text-primary-600">ุทุฑููุฉ ุงูุงุณุชุนูุงู</a></li>
        </ul>
      </div>
      
      <!-- Column 3: Services -->
      <div>
        <h3 class="font-bold mb-4">ุฎุฏูุงุช</h3>
        <ul class="space-y-2 text-sm">
          <li><a href="#" class="text-gray-600 dark:text-gray-400 hover:text-primary-600" data-i18n="shipping">ุณูุงุณุฉ ุงูุดุญู</a></li>
          <li><a href="#" class="text-gray-600 dark:text-gray-400 hover:text-primary-600">ุณูุงุณุฉ ุงูุฅุฑุฌุงุน</a></li>
          <li><a href="#" class="text-gray-600 dark:text-gray-400 hover:text-primary-600" data-i18n="privacy">ุณูุงุณุฉ ุงูุฎุตูุตูุฉ</a></li>
        </ul>
      </div>
      
      <!-- Column 4: Contact -->
      <div>
        <h3 class="font-bold mb-4">ุชูุงุตู</h3>
        <ul class="space-y-3 text-sm">
          <li class="flex items-center gap-2">
            <span>๐ฑ</span>
            <a href="https://wa.me/212660928077" class="text-gray-600 dark:text-gray-400 hover:text-primary-600">+212 660 928 077</a>
          </li>
          <li class="flex items-center gap-2">
            <span>๐ง</span>
            <a href="mailto:intissarbani8@gmail.com" class="text-gray-600 dark:text-gray-400 hover:text-primary-600 break-all">intissarbani8@gmail.com</a>
          </li>
          <li class="flex items-center gap-2">
            <span>๐ฒ๐ฆ</span>
            <span class="text-gray-600 dark:text-gray-400">ุตููุน ูู ุงููุบุฑุจ</span>
          </li>
        </ul>
      </div>
      
    </div>
    
    <!-- Bottom Bar -->
    <div class="pt-8 border-t border-gray-200 dark:border-gray-800 text-center text-sm text-gray-600 dark:text-gray-400">
      <p>ยฉ 2025 <span data-i18n="brand">ุฎูุทุงุช ูููู</span> โข <span data-i18n="rights">ุฌููุน ุงูุญููู ูุญููุธุฉ</span></p>
    </div>
  </div>
</footer>

<!-- Live Region for Announcements -->
<div id="liveRegion" role="status" aria-live="polite" aria-atomic="true" class="sr-only"></div>

</div>

<!-- Main Script -->
<script>
(function() {
'use strict';

// Helper functions
const $ = (sel, root=document) => root.querySelector(sel);
const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));

// Overlay visibility helper
function updateOverlayVisibility(sidebar, miniCart, overlay) {
  if (!overlay) return;
  const navOpen = sidebar && !sidebar.classList.contains('translate-x-full');
  const cartOpen = miniCart && !miniCart.classList.contains('-translate-x-full');
  
  if (navOpen || cartOpen) {
    overlay.classList.remove('opacity-0', 'pointer-events-none');
    overlay.classList.add('opacity-100');
    document.body.style.overflow = 'hidden';
  } else {
    overlay.classList.add('opacity-0', 'pointer-events-none');
    overlay.classList.remove('opacity-100');
    document.body.style.overflow = '';
  }
}

// Stock label renderer for Pack 3
function renderStockB3() {
  const el = $('#stockB3');
  if (!el) return;
  
  if (stockB3 <= 0) {
    el.textContent = currentLang === 'ar'
      ? 'ูุฑุจ ูุณููุง ุงูุจุงู ุฏูุงู 3 ููููุงุช ุงููููุ ุชูุงุตูู ูุนูุง ููุชุฃููุฏ.'
      : 'Le pack 3 flacons est presque รฉpuisรฉ pour aujourd\'hui.';
    return;
  }
  
  if (currentLang === 'ar') {
    el.textContent = `ุบูุฑ ${stockB3} ุจุงู ุจุงูููู ุจูุฐุง ุงูุซูู ุงูููู!`;
  } else {
    el.textContent = `Il ne reste plus que ${stockB3} packs ร ce prix aujourd'hui !`;
  }
}
// Overlay visibility helper
function updateOverlayVisibility(sidebar, miniCart, overlay) {
  if (!overlay) return;
  const navOpen = sidebar && !sidebar.classList.contains('translate-x-full');
  const cartOpen = miniCart && !miniCart.classList.contains('-translate-x-full');
  
  if (navOpen || cartOpen) {
    overlay.classList.remove('opacity-0', 'pointer-events-none');
    overlay.classList.add('opacity-100');
    document.body.style.overflow = 'hidden';
  } else {
    overlay.classList.add('opacity-0', 'pointer-events-none');
    overlay.classList.remove('opacity-100');
    document.body.style.overflow = '';
  }
}

// i18n translations
const i18n = {
  ar: {
    brand: 'ุฎูุทุงุช ูููู',
    menu: 'ุงููุงุฆูุฉ',
    nav_products: '๐ ุงูุนุฑูุถ',
    nav_benefits: 'โจ ุงูููุงุฆุฏ',
    nav_how: '๐ ุงูุทุฑููุฉ',
    nav_faq: 'โ ุงูุฃุณุฆูุฉ',
    nav_contact: '๐ ุชูุงุตู',
    hero_title: 'ุฒูุช ุงูุจุงุฑููุฉ โ ูููู ุงูุชุณุงูุท ูููู ุงููุฑุงุบุงุช ูู 3 ุฃุณุงุจูุน ๐ฟ',
    hero_sub: 'ุชุฑููุจุฉ ูุบุฑุจูุฉ 100% ุทุจูุนูุฉ โข ูุชุงุฆุฌ ูู 3 ุฃุณุงุจูุน โข ุฏูุน ุนูุฏ ุงูุงุณุชูุงู',
    whatsapp: '๐ฒ ุงุทูุจู ุนุจุฑ ูุงุชุณุงุจ (ูุฌุงูุงู)',
    form_cta: 'ุฃู ุงููุฆู ุงููููุฐุฌ ุงูุณุฑูุน โ',
    social_proof_micro: 'โญ 4.8/5 ูู +1,200 ุฒุจููุฉ ุฑุงุถูุฉ ูู ุงููุบุฑุจ',
    usp_shipping: 'ุชูุตูู ูุฌุงูู',
    usp_shipping_sub: 'ุนูู ุฌููุน ุงูุทูุจุงุช ุฏุงุฎู ุงููุบุฑุจ',
    usp_cod: 'ุงูุฏูุน ุนูุฏ ุงูุงุณุชูุงู',
    usp_cod_sub: 'ุงุฏูุนู ุนูุฏ ูุตูู ุทูุจู',
    usp_local: 'ุตููุน ูู ุงููุบุฑุจ',
    usp_local_sub: 'ุฌูุฏุฉ ูุถูููุฉ ูููููุงุช ุทุจูุนูุฉ',
    benefits_title: 'ุนูุงุด ุชุฎุชุงุฑู ุฎูุทุงุช ููููุ',
    b1_title: 'ุฒูุช ุงูุจุงุฑููุฉ',
    b1_desc: 'ูููู ุงูุจุตููุงุช ููููู ุงูุชุณุงูุท ููุญูุฒ ููู ุงูุฎูููุฉ ูู ุงูุฌุฐูุฑ',
    b2_title: 'ุฎูุงุตุฉ 7 ุฃุนุดุงุจ',
    b2_desc: 'ุชุฑุทูุจ ุนููู ูููุนุงู ุทุจูุนู ูุญูุงูุฉ ูู ุงูุชูุตู ุจุฏูู ุฅุซูุงู',
    b3_title: 'ูุซุงูุฉ ูุทูู',
    b3_desc: 'ููุก ุงููุฑุงุบุงุช ูุทูู ููุญูุธ ูุน ุงูุงุณุชุนูุงู ุงูููุชุธู ุฌูุฌ ูุฑุงุช ูุงูุฃุณุจูุน',
    results_title: 'ูุชุงุฆุฌ ูุฌุฑูุจุฉ ูู ุฒุจููุงุชูุง',
    results_intro: 'ุจูุถู ุชุฑููุจุฉ ุฒูุช ุงูุจุงุฑููุฉ ูุฎูุงุตุฉ ุงูุฃุนุดุงุจุ ุนุฏุฏ ูุจูุฑ ูู ุงูุฒุจููุงุช ูุงุญุธู ูุฑู ูุงุถุญ ูู ุงูุชุณุงูุท ูุงููุฑุงุบุงุช ูุงูููุนุงู ูู ุงูุฃุณุงุจูุน ุงูุฃููู',
    results_p1: 'ุงูุฎูุงุถ ููุญูุธ ูู ุงูุชุณุงูุท ุจูุณุจุฉ 40% ูุชูููุฉ ุงูุฌุฐูุฑ*',
    results_p2: 'ุชุญููุฒ ููู ุงูุฎูููุฉ ูููุก ุงููุฑุงุบุงุช ุจุดูู ุทุจูุนู',
    results_p3: 'ุชุฑุทูุจ ุนููู ูููุนุงู ุทุจูุนู ุจุฏูู ุฅุซูุงู ุงูุดุนุฑ',
    results_p4: 'ุชุญุณู ุงููุซุงูุฉ ูุงูุทูู ูุน ุงูุงุณุชุนูุงู ุฌูุฌ ูุฑุงุช ูุงูุฃุณุจูุน',
    results_note: '*ุญุณุจ ุชุฌุงุฑุจ 200+ ุฒุจููุฉ. ุงููุชุงุฆุฌ ูุฏ ุชุฎุชูู ุญุณุจ ุทุจูุนุฉ ุงูุดุนุฑ ูุฑูุชูู ุงูุนูุงูุฉ',
    bundles_title: 'ุงูุนุฑูุถ',
    bndl1: 'ููููุฉ ูุงุญุฏุฉ',
    bndl1_desc: 'ููุชุฌุฑุจุฉ โข ููุงูุฉ ุดูุฑ',
    bndl2: 'ุจุงู ููููุชูู',
    bndl2_desc: 'ุฃูุซุฑ ุนุฑุถ ูุทููุจ โข ููุงูุฉ ุดูุฑูู',
    bndl3: 'ุจุงู 3 ููููุงุช',
    bndl3_desc: 'ุฃูุถู ูููุฉ ูููุฑุณ 3 ุดููุฑ ููุดุนุฑ',
    badge_popular: '๐ฅ ุงูุฃูุซุฑ ูุจูุนุงู',
    add_to_cart: '๐ ุฃุถู ููุณูุฉ',
    normal_order: 'ุทูุจ ุนุงุฏู',
    order_whatsapp: 'ูุงุชุณุงุจ',
    flash_title: 'ุนุฑุถ ุงูููู: ุชุฎููุถ ูุญุฏูุฏ ุนูู ุจุงูุงุช ุฒูุช ุงูุจุงุฑููุฉ',
    flash_label: 'ุงูุนุฑุถ ููุณุงูู ูู',
    seasonal_title: '๐ ุนุฑุถ ุฑูุถุงู: ูุฏูุฉ ูุฌุงููุฉ ูุน ุฃู ุทูุจ ููู 299 ุฏ.ู',
    seasonal_sub: 'ูุซุงูู ูุชุญุถูุฑ ุดุนุฑู ูุฑูุถุงูุ ุงูุฃุนูุงุฏ ู ุงูุนูุฏุฉ ูููุฏุงุฑุณ.',
    guarantee_title: 'โ ุถูุงู ุงุณุชุฑุฌุงุน ุงููุงู 14 ููู',
    guarantee_desc: 'ุฅุฐุง ูุง ุนุฌุจูุด ุงูููุชุฌ ูุฃู ุณุจุจุ ูุฑุฌุนู ููู ูููุณู ูุงููุฉ ุจุฏูู ุฃุณุฆูุฉ',
    how_title: 'ุทุฑููุฉ ุงูุงุณุชุนูุงู',
    how_step1_title: '1. ุงูุชุทุจูู',
    how_1: 'ุฏูุฑู ุงูุฒูุช ูู ุงูุฌุฐูุฑ ููุฃุทุฑุงู ูุน ูุณุงุฌ ุฏุงุฆุฑู ุฎููู ููุฏุฉ 2-3 ุฏูุงุฆู',
    how_step2_title: '2. ุงูุงูุชุธุงุฑ',
    how_2: 'ุฎููู ุณุงุนุชูู ุนูู ุงูุฃูู ุฃู ุทูู ุงูููู ูููุชุงุฆุฌ ุงูุฃูุถู',
    how_step3_title: '3. ุงูุชูุฑุงุฑ',
    how_3: 'ุงุณุชุนูููู ุฌูุฌ ูุฑุงุช ูุงูุฃุณุจูุน ูุดุงูุฏู ุงููุฑู ุฎูุงู 3 ุฃุณุงุจูุน',
    social_proof: 'ุฒุจุงุฆููุง ุงูุฑุงุถูู',
    testimonial_body: '"ุญูุช ุฌุฑุจุชูุ ูุงุญุธุช ุงููุฑู ูู ุงูุชุณุงูุท ูู ุฃูู ุฃุณุจูุนูู. ุดุนุฑู ููุง ูุซูู ูููู ููุนุฉ ุทุจูุนูุฉ. ุดูุฑุงู ุฎูุทุงุช ูููู!"',
    testimonial_author: 'โ ุณ.ูุ ูุฑุงูุด',
    cta_title: 'ุงุทูุจู ุงูุขู',
    cta_sub: 'ุงููุฆู ุงููููุฐุฌ ูุณูุชุตู ุจู ุฎูุงู ุณุงุนุฉ ููุชุฃููุฏ',
    review_title: '๐ฆ ูุฑุงุฌุนุฉ ุงูุทูุจ',
    total: 'ุงูุฅุฌูุงูู',
    cart_title: 'ุณูุฉ ุงููุดุชุฑูุงุช',
    confirm_order: 'โ ุชุฃููุฏ ุงูุทูุจ (COD)',
    footer_about: 'ุฒูุช ุทุจูุนู ูุชูุซูู ูุฅุทุงูุฉ ุงูุดุนุฑ ุจุฎูุงุตุฉ ุฒูุช ุงูุจุงุฑููุฉ ูุงูุฃุนุดุงุจ',
    shipping: 'ุณูุงุณุฉ ุงูุดุญู',
    privacy: 'ุณูุงุณุฉ ุงูุฎุตูุตูุฉ',
    rights: 'ุฌููุน ุงูุญููู ูุญููุธุฉ',
    required_error: 'โ ูุฑุฌู ููุก ุฌููุน ุงูุญููู ุงููุทููุจุฉ',
    phone_error: 'โ ุฑูู ุงููุงุชู ุบูุฑ ุตุญูุญ โ ูุซุงู: 0612345678',
    sending: 'โณ ุฌุงุฑู ุงูุชุฃููุฏ...',
    order_received: 'โ ุดูุฑุงู! ุชู ุงุณุชูุงู ุทูุจู. ุณูุชุตู ุจู ุฎูุงู ุณุงุนุฉ ููุชุฃููุฏ ๐',
  },
  fr: {
    brand: 'Lolo Blends',
    menu: 'Menu',
    nav_products: '๐ Offres',
    nav_benefits: 'โจ Avantages',
    nav_how: '๐ Utilisation',
    nav_faq: 'โ FAQ',
    nav_contact: '๐ Contact',
    hero_title: 'Huile Barouka โ Stoppez la Chute et Densifiez en 3 Semaines ๐ฟ',
    hero_sub: 'Formule 100% naturelle marocaine โข Rรฉsultats dรจs 3 semaines โข Paiement ร la livraison',
    whatsapp: '๐ฒ Commander sur WhatsApp (gratuit)',
    form_cta: 'Ou remplir le formulaire rapide โ',
    social_proof_micro: 'โญ 4.8/5 de +1,200 clientes satisfaites au Maroc',
    usp_shipping: 'Livraison gratuite',
    usp_shipping_sub: 'Sur toutes les commandes au Maroc',
    usp_cod: 'Paiement ร la livraison',
    usp_cod_sub: 'Payez ร rรฉception',
    usp_local: 'Made in Morocco',
    usp_local_sub: 'Qualitรฉ garantie et ingrรฉdients naturels',
    benefits_title: 'Pourquoi Lolo Blends?',
    b1_title: 'Huile Barouka',
    b1_desc: 'Fortifie les racines, stoppe la chute et stimule la repousse',
    b2_title: 'Extrait de 7 plantes',
    b2_desc: 'Hydratation profonde et brillance naturelle sans alourdir',
    b3_title: 'Densitรฉ et longueur',
    b3_desc: 'Comble les zones clairsemรฉes avec usage rรฉgulier 2x/semaine',
    results_title: 'Rรฉsultats prouvรฉs',
    results_intro: 'Grรขce ร l\'huile Barouka et aux extraits de plantes, nos clientes constatent moins de chute et plus d\'รฉclat dรจs les premiรจres semaines',
    results_p1: 'Chute rรฉduite de 40% et racines fortifiรฉes*',
    results_p2: 'Stimule la repousse et comble les zones clairsemรฉes',
    results_p3: 'Hydratation profonde sans alourdir',
    results_p4: 'Amรฉlioration de la densitรฉ avec usage 2x/semaine',
    results_note: '*Selon 200+ avis clientes. Rรฉsultats variables selon le type de cheveux',
    bundles_title: 'Offres',
    bndl1: 'Flacon unique',
    bndl1_desc: 'Pour essayer โข 1 mois',
    bndl2: 'Pack 2 flacons',
    bndl2_desc: 'Notre pack le plus demandรฉ โข 2 mois',
    bndl3: 'Pack 3 flacons',
    bndl3_desc: 'Meilleur prix pour une cure de 3 mois',
    badge_popular: '๐ฅ Best-seller',
    add_to_cart: '๐ Ajouter',
    normal_order: 'Commander',
    order_whatsapp: 'WhatsApp',
    flash_title: 'Offre du jour: rรฉduction limitรฉe sur les packs Barouka',
    flash_label: 'Se termine dans',
    seasonal_title: '๐ Offre Ramadan: cadeau offert dรจs 299 MAD d\'achat',
    seasonal_sub: 'Parfait pour prรฉparer vos cheveux pour le Ramadan, les fรชtes et la rentrรฉe.',
    guarantee_title: 'โ Garantie satisfait ou remboursรฉ 14 jours',
    guarantee_desc: 'Si vous n\'รชtes pas satisfaite, nous vous remboursons sans questions',
    how_title: 'Mode d\'emploi',
    how_step1_title: '1. Application',
    how_1: 'Appliquer des racines aux pointes avec massage lรฉger (2-3 min)',
    how_step2_title: '2. Pause',
    how_2: 'Laisser agir au moins 2h ou toute la nuit pour plus d\'effet',
    how_step3_title: '3. Rรฉpรฉtition',
    how_3: 'Utiliser 2x/semaine et voir la diffรฉrence sous 3 semaines',
    social_proof: 'Clientes satisfaites',
    testimonial_body: '"Dรจs les 2 premiรจres semaines, j\'ai remarquรฉ moins de chute. Mes cheveux sont plus denses et brillants naturellement. Merci Lolo Blends!"',
    testimonial_author: 'โ S.M., Marrakech',
    cta_title: 'Commander maintenant',
    cta_sub: 'Remplissez le formulaire et nous vous contactons sous 1h',
    review_title: '๐ฆ Rรฉcapitulatif',
    total: 'Total',
    cart_title: 'Panier',
    confirm_order: 'โ Confirmer (COD)',
    footer_about: 'Huile naturelle pour densitรฉ et longueur avec huile Barouka et plantes',
    shipping: 'Livraison',
    privacy: 'Confidentialitรฉ',
    rights: 'Tous droits rรฉservรฉs',
    required_error: 'โ Veuillez remplir tous les champs requis',
    phone_error: 'โ Numรฉro invalide โ ex: 0612345678',
    sending: 'โณ Envoi en cours...',
    order_received: 'โ Merci! Commande reรงue. Nous vous contacterons sous 1h ๐',
  }
};

// Configuration
let currentLang = localStorage.getItem('lang') || 'ar';
const whatsappNumber = '212660928077';
const businessEmail = 'intissarbani8@gmail.com';
const WEB3FORMS_KEY = 'd2d6a608-1dfc-4e9b-8852-962cb1dc8a20';
let pendingBundle = null;

// Daily stock config for Pack 3 (b3)
const DAILY_STOCK_B3 = 7;
const STOCK_KEY_B3 = 'lolo_stock_b3';
const STOCK_DATE_KEY_B3 = 'lolo_stock_b3_date';

function initStockB3() {
  try {
    const today = new Date().toISOString().slice(0, 10);
    const savedDate = localStorage.getItem(STOCK_DATE_KEY_B3);
    if (savedDate !== today) {
      localStorage.setItem(STOCK_DATE_KEY_B3, today);
      localStorage.setItem(STOCK_KEY_B3, String(DAILY_STOCK_B3));
      return DAILY_STOCK_B3;
    }
    const raw = localStorage.getItem(STOCK_KEY_B3);
    const parsed = raw != null ? parseInt(raw, 10) : NaN;
    if (Number.isFinite(parsed) && parsed >= 0) return parsed;
    return DAILY_STOCK_B3;
  } catch {
    return DAILY_STOCK_B3;
  }
}

let stockB3 = initStockB3();

function saveStockB3() {
  try {
    localStorage.setItem(STOCK_KEY_B3, String(stockB3));
  } catch {
    // ignore
  }
}

// Bundle data
const bundles = {
  b1: { id:'b1', name_ar:'ููููุฉ ูุงุญุฏุฉ', name_fr:'Flacon unique', price:199 },
  b2: { id:'b2', name_ar:'ุจุงู ููููุชูู', name_fr:'Pack 2 flacons', price:229 },
  b3: { id:'b3', name_ar:'ุจุงู 3 ููููุงุช', name_fr:'Pack 3 flacons', price:249 }
};

// Cart state
const cart = {
  items: {},
  add(id) { 
    const b = bundles[id]; 
    if(!b) return; 
    this.items[id] = this.items[id] || {...b, qty:0}; 
    this.items[id].qty++; 
    if (id === 'b3' && stockB3 > 0) {
      stockB3 = Math.max(0, stockB3 - 1);
      saveStockB3();
      renderStockB3();
    }
    renderCart();
    announce(`ุชูุช ุฅุถุงูุฉ ${b.name_ar} ููุณูุฉ`);
  },
  remove(id) { 
    delete this.items[id]; 
    renderCart();
    announce('ุชู ุญุฐู ุงูููุชุฌ ูู ุงูุณูุฉ');
  },
  count() { 
    return Object.values(this.items).reduce((a,b) => a + b.qty, 0); 
  },
  total() { 
    return Object.values(this.items).reduce((a,b) => a + b.qty * b.price, 0); 
  }
};

// Get current items (cart or pending bundle)
function currentItems() {
  const items = Object.values(cart.items);
  if (items.length === 0 && pendingBundle) {
    const b = bundles[pendingBundle];
    if (b) return [{...b, qty: 1}];
  }
  return items;
}

// Format currency
function formatMAD(value) {
  try {
    return new Intl.NumberFormat(currentLang === 'ar' ? 'ar-MA' : 'fr-MA', { 
      style: 'currency', 
      currency: 'MAD' 
    }).format(value);
  } catch (e) {
    return (currentLang === 'ar' ? `${value} ุฏ.ู` : `${value} MAD`);
  }
}

// Apply translations
function applyI18n(lang) {
  $$('[data-i18n]').forEach(el => {
    const key = el.getAttribute('data-i18n');
    if (i18n[lang] && i18n[lang][key]) {
      el.textContent = i18n[lang][key];
    }
  });
  
  document.documentElement.lang = lang;
  document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
  $('#langToggle').textContent = lang === 'ar' ? 'AR' : 'FR';
  $('#langToggle').setAttribute('aria-label', lang === 'ar' ? 'ุชุจุฏูู ุงููุบุฉ ุฅูู ุงููุฑูุณูุฉ' : 'Switch to Arabic');
  localStorage.setItem('lang', lang);
  renderStockB3();
}

// Language toggle
$('#langToggle')?.addEventListener('click', () => {
  currentLang = currentLang === 'ar' ? 'fr' : 'ar';
  applyI18n(currentLang);
});

// Sidebar
const sidebar = $('#sidebar');
const menuButton = $('#menuButton');
const closeSidebar = $('#closeSidebar');
const overlay = $('#overlay');

menuButton?.addEventListener('click', () => {
  // Ensure cart is closed when opening sidebar
  if (miniCart && !miniCart.classList.contains('-translate-x-full')) {
    miniCart.classList.add('-translate-x-full');
  }
  sidebar?.classList.remove('translate-x-full');
  menuButton.setAttribute('aria-expanded', 'true');
  sidebar?.querySelector('a')?.focus();
  updateOverlayVisibility(sidebar, miniCart, overlay);
});

closeSidebar?.addEventListener('click', () => {
  sidebar?.classList.add('translate-x-full');
  menuButton?.setAttribute('aria-expanded', 'false');
  menuButton?.focus();
  updateOverlayVisibility(sidebar, miniCart, overlay);
});

$$('#sidebar a')?.forEach(a => {
  a.addEventListener('click', () => {
    sidebar?.classList.add('translate-x-full');
    menuButton?.setAttribute('aria-expanded', 'false');
     updateOverlayVisibility(sidebar, miniCart, overlay);
  });
});

// Handle Escape key
document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape') {
    if (sidebar && !sidebar.classList.contains('translate-x-full')) {
      sidebar.classList.add('translate-x-full');
      menuButton?.setAttribute('aria-expanded', 'false');
    }
    if (miniCart && !miniCart.classList.contains('-translate-x-full')) {
      miniCart.classList.add('-translate-x-full');
    }
    updateOverlayVisibility(sidebar, miniCart, overlay);
  }
});

// Mini-cart
const miniCart = $('#miniCart');
$('#cartButton')?.addEventListener('click', () => {
  miniCart?.classList.remove('-translate-x-full');
  // Ensure sidebar is closed when opening cart
  if (sidebar && !sidebar.classList.contains('translate-x-full')) {
    sidebar.classList.add('translate-x-full');
    menuButton?.setAttribute('aria-expanded', 'false');
  }
  updateOverlayVisibility(sidebar, miniCart, overlay);
});
$('#closeCart')?.addEventListener('click', () => {
  miniCart?.classList.add('-translate-x-full');
  updateOverlayVisibility(sidebar, miniCart, overlay);
});

// Click on overlay closes any open sidebar/cart
overlay?.addEventListener('click', () => {
  if (sidebar && !sidebar.classList.contains('translate-x-full')) {
    sidebar.classList.add('translate-x-full');
    menuButton?.setAttribute('aria-expanded', 'false');
  }
  if (miniCart && !miniCart.classList.contains('-translate-x-full')) {
    miniCart.classList.add('-translate-x-full');
  }
  updateOverlayVisibility(sidebar, miniCart, overlay);
});

// Whenever we navigate to the contact form, ensure all drawers are closed
window.addEventListener('hashchange', () => {
  if (window.location.hash === '#contact') {
    if (sidebar && !sidebar.classList.contains('translate-x-full')) {
      sidebar.classList.add('translate-x-full');
      menuButton?.setAttribute('aria-expanded', 'false');
    }
    if (miniCart && !miniCart.classList.contains('-translate-x-full')) {
      miniCart.classList.add('-translate-x-full');
    }
    updateOverlayVisibility(sidebar, miniCart, overlay);
  }
});

// Render cart
function renderCart() {
  const wrap = $('#cartItems');
  if (!wrap) return;
  
  wrap.innerHTML = '';
  const items = Object.values(cart.items);
  
  if (items.length === 0) {
    wrap.innerHTML = `<p class="text-center text-gray-500 dark:text-gray-400 py-8">${currentLang === 'ar' ? 'ุงูุณูุฉ ูุงุฑุบุฉ ๐๏ธ' : 'Panier vide ๐๏ธ'}</p>`;
  } else {
    items.forEach(it => {
      const row = document.createElement('div');
      row.className = 'flex items-center justify-between gap-3 border border-gray-200 dark:border-gray-700 rounded-lg p-3 bg-white dark:bg-gray-800';
      const title = (currentLang === 'ar' ? it.name_ar : it.name_fr);
      row.innerHTML = `
        <div class="flex-1">
          <div class="font-semibold text-sm">${title}</div>
          <div class="text-xs text-gray-600 dark:text-gray-400">ร${it.qty}</div>
        </div>
        <div class="font-bold text-primary-600 dark:text-primary-400">${formatMAD(it.qty * it.price)}</div>
        <button class="h-9 w-9 grid place-items-center rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 text-red-500" aria-label="ุญุฐู ${title}">
          <span class="material-symbols-outlined text-[20px]">delete</span>
        </button>
      `;
      row.querySelector('button').addEventListener('click', () => cart.remove(it.id));
      wrap.appendChild(row);
    });
  }
  
  // Update cart count badge
  const count = cart.count();
  const badge = $('#cartCount');
  if (badge) {
    if (count > 0) {
      badge.textContent = count;
      badge.classList.remove('hidden');
    } else {
      badge.classList.add('hidden');
    }
  }
  
  // Update cart total
  const totalEl = $('#cartTotal');
  if (totalEl) totalEl.textContent = formatMAD(cart.total());
  
  // Update order summary
  renderOrderSummary();
}

// Render order summary in form
function renderOrderSummary() {
  const box = $('#orderSummary');
  const list = $('#orderSummaryList');
  const totalEl = $('#orderSummaryTotal');
  
  if (!box || !list || !totalEl) return;
  
  const items = currentItems();
  
  if (items.length === 0) {
    box.classList.add('hidden');
    return;
  }
  
  box.classList.remove('hidden');
  let total = 0;
  
  list.innerHTML = items.map(it => {
    total += it.qty * it.price;
    const title = (currentLang === 'ar' ? it.name_ar : it.name_fr);
    return `<li class="flex items-center justify-between"><span>${title} ร${it.qty}</span><span class="font-semibold">${formatMAD(it.qty * it.price)}</span></li>`;
  }).join('');
  
  totalEl.textContent = formatMAD(total);
}

// Intersection Observer for reveal animations
const io = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add('is-visible');
      io.unobserve(entry.target);
    }
  });
}, { threshold: 0.1 });

$$('.reveal').forEach(el => io.observe(el));

// Flash sale countdown timer (until local midnight)
const flashTimerEl = $('#flashTimer');
if (flashTimerEl) {
  function updateFlashTimer() {
    const now = new Date();
    const end = new Date();
    end.setHours(24, 0, 0, 0);
    const diff = end - now;
    if (diff <= 0) {
      flashTimerEl.textContent = '00:00:00';
      return;
    }
    const totalSeconds = Math.floor(diff / 1000);
    const hours = String(Math.floor(totalSeconds / 3600)).padStart(2, '0');
    const minutes = String(Math.floor((totalSeconds % 3600) / 60)).padStart(2, '0');
    const seconds = String(totalSeconds % 60).padStart(2, '0');
    flashTimerEl.textContent = `${hours}:${minutes}:${seconds}`;
  }
  updateFlashTimer();
  setInterval(updateFlashTimer, 1000);
}

// Theme toggle
function applyTheme(theme) {
  if (theme === 'dark') {
    document.documentElement.classList.add('dark');
  } else {
    document.documentElement.classList.remove('dark');
  }
  localStorage.setItem('theme', theme);
  const icon = $('#themeToggle .material-symbols-outlined');
  if (icon) icon.textContent = theme === 'dark' ? 'light_mode' : 'dark_mode';
}

applyTheme(localStorage.getItem('theme') || 'light');

$('#themeToggle')?.addEventListener('click', () => {
  const next = document.documentElement.classList.contains('dark') ? 'light' : 'dark';
  applyTheme(next);
});

// WhatsApp helpers
function openWhatsApp(message) {
  window.open(`https://wa.me/${whatsappNumber}?text=${encodeURIComponent(message)}`, '_blank');
}

function buildCartMessage() {
  const items = currentItems();
  if (!items.length) {
    return currentLang === 'ar' 
      ? 'ุงูุณูุงู ุนููููุ ุจุบูุช ูุณูู ุนูู ุฒูุช ุงูุดุนุฑ ูู ุฎูุทุงุช ูููู.' 
      : 'Bonjour, je voudrais me renseigner sur l\'huile Lolo Blends.';
  }
  
  const lines = items.map(it => {
    const t = (currentLang === 'ar' ? it.name_ar : it.name_fr);
    return `- ${t} ร${it.qty} = ${formatMAD(it.qty * it.price)}`;
  }).join('\n');
  
  const total = items.reduce((a, b) => a + b.qty * b.price, 0);
  const header = currentLang === 'ar' ? 'ุทูุจ ุนุจุฑ ูุงุชุณุงุจ:\n' : 'Commande WhatsApp:\n';
  const totalH = currentLang === 'ar' ? 'ุงูุฅุฌูุงูู' : 'Total';
  
  return `${header}${lines}\n\n${totalH}: ${formatMAD(total)}`;
}

// WhatsApp CTAs
$('#whatsappCTA')?.addEventListener('click', () => {
  const msg = cart.count() > 0 
    ? buildCartMessage() 
    : (currentLang === 'ar' 
      ? 'ุงูุณูุงู ุนููููุ ุจุบูุช ูุณูู ุนูู ุฒูุช ุงูุจุงุฑููุฉ ูู ุฎูุทุงุช ูููู.' 
      : 'Bonjour, je voudrais me renseigner sur l\'huile Barouka Lolo Blends.');
  openWhatsApp(msg);
});

// Bundle WhatsApp buttons
$$('[data-wa]')?.forEach(btn => {
  btn.addEventListener('click', () => {
    const pack = btn.getAttribute('data-wa');
    const msg = currentLang === 'ar'
      ? `ุงูุณูุงู ุนููููุ ุจุบูุช ูุทูุจ ุงูุจุงู ุฑูู ${pack} ูู ุฎูุทุงุช ูููู.`
      : `Bonjour, je voudrais commander le pack ${pack} de Lolo Blends.`;
    openWhatsApp(msg);
  });
});

// Normal order buttons (scroll to form)
$$('[data-normal]')?.forEach(btn => {
  btn.addEventListener('click', () => {
    const pack = btn.getAttribute('data-normal');
    pendingBundle = pack;
    renderOrderSummary();
    location.hash = '#contact';
    setTimeout(() => {
      $('#name')?.focus();
    }, 300);
  });
});

// Add to cart buttons
$$('[data-add-bundle]')?.forEach(btn => {
  btn.addEventListener('click', () => {
    const id = btn.getAttribute('data-add-bundle');
    pendingBundle = null;
    cart.add(id);
    miniCart?.classList.remove('-translate-x-full');
  });
});

// Cart WhatsApp order
$('#waOrderBtnCart')?.addEventListener('click', () => {
  openWhatsApp(buildCartMessage());
  miniCart?.classList.add('-translate-x-full');
  updateOverlayVisibility(sidebar, miniCart, overlay);
});

// Close mini-cart when clicking "normal order" inside it
$('#miniCart a[href="#contact"]')?.addEventListener('click', () => {
  miniCart?.classList.add('-translate-x-full');
  updateOverlayVisibility(sidebar, miniCart, overlay);
});

// Form validation
function markInvalid(el, message) {
  el.classList.add('border-red-500');
  el.setAttribute('aria-invalid', 'true');
  const errorEl = $(`#${el.id}-error`);
  if (errorEl) {
    errorEl.textContent = message;
    errorEl.classList.add('is-visible');
  }
}

function clearInvalid(el) {
  el.classList.remove('border-red-500');
  el.setAttribute('aria-invalid', 'false');
  const errorEl = $(`#${el.id}-error`);
  if (errorEl) {
    errorEl.textContent = '';
    errorEl.classList.remove('is-visible');
  }
}

function validPhone(v) {
  return /^(?:\+?212|0)(?:6|7)\d{8}$/.test(v.trim());
}

// Real-time phone validation
const phoneInput = $('#phone');
const phoneValidIcon = $('#phone-valid');

phoneInput?.addEventListener('input', debounce(() => {
  const value = phoneInput.value.trim();
  if (value.length >= 10) {
    if (validPhone(value)) {
      phoneInput.classList.add('is-valid');
      phoneInput.classList.remove('border-red-500');
      phoneValidIcon?.classList.remove('hidden');
      clearInvalid(phoneInput);
    } else {
      phoneInput.classList.remove('is-valid');
      phoneValidIcon?.classList.add('hidden');
      markInvalid(phoneInput, i18n[currentLang].phone_error);
    }
  } else {
    phoneInput.classList.remove('is-valid');
    phoneValidIcon?.classList.add('hidden');
    clearInvalid(phoneInput);
  }
}, 500));

// Debounce helper
function debounce(func, wait) {
  let timeout;
  return function executedFunction(...args) {
    const later = () => {
      clearTimeout(timeout);
      func(...args);
    };
    clearTimeout(timeout);
    timeout = setTimeout(later, wait);
  };
}

// Build order payload
function buildOrderPayload(name, phone, city, addr) {
  const items = currentItems();
  const total = items.reduce((a, b) => a + b.qty * b.price, 0);
  const lang = currentLang;
  const subject = lang === 'ar' ? `ุทูุจ ุฌุฏูุฏ - ${name}` : `Nouvelle commande - ${name}`;
  
  const lines = items.map(it => {
    const t = (lang === 'ar' ? it.name_ar : it.name_fr);
    return `${t} ร${it.qty} = ${formatMAD(it.qty * it.price)}`;
  });
  
  const itemsDetailed = items.map(it => ({
    id: it.id,
    name: (lang === 'ar' ? it.name_ar : it.name_fr),
    qty: it.qty,
    price: it.price
  }));
  
  return {
    subject,
    language: lang,
    customer: { 
      name, 
      phone, 
      email: ($('#email')?.value || '').trim(), 
      city: city || '', 
      address: addr || '' 
    },
    items: lines.length ? lines : ['Aucun article'],
    itemsDetailed: itemsDetailed,
    total: formatMAD(total),
    totalRaw: total
  };
}

// Format emails (plain text to avoid spam filters)
function formatAdminEmailPlain(payload) {
  const isAr = payload.language === 'ar';
  const lines = payload.items.map((l, i) => `${i + 1}. ${l}`).join('\n');
  const date = new Date().toLocaleString(isAr ? 'ar-MA' : 'fr-MA');
  
  if (isAr) {
    return [
      '๐ ุทูุจ ุฌุฏูุฏ - ุฎูุทุงุช ูููู',
      '',
      '๐ค ูุนูููุงุช ุงูุฒุจูู:',
      `ุงูุงุณู: ${payload.customer.name}`,
      `๐ฑ ุงููุงุชู: ${payload.customer.phone}`,
      `๐ง ุงูุจุฑูุฏ: ${payload.customer.email || '-'}`,
      `๐ ุงููุฏููุฉ: ${payload.customer.city || '-'}`,
      `๐ ุงูุนููุงู: ${payload.customer.address || '-'}`,
      '',
      '๐๏ธ ุชูุงุตูู ุงูุทูุจ:',
      lines,
      '',
      `๐ฐ ุงููุฌููุน ุงูููู: ${payload.total}`,
      '',
      `๐ ุงูุชุงุฑูุฎ: ${date}`,
      '',
      'โ๏ธ ุฅุฌุฑุงุก ูุทููุจ: ูุฑุฌู ุงูุงุชุตุงู ุจุงูุฒุจูู ูุชุฃููุฏ ุงูุทูุจ ูุงูุนููุงู ูู ุฃูุฑุจ ููุช ูููู.',
    ].join('\n');
  } else {
    return [
      '๐ Nouvelle commande - Lolo Blends',
      '',
      '๐ค Informations client:',
      `Nom: ${payload.customer.name}`,
      `๐ฑ Tรฉlรฉphone: ${payload.customer.phone}`,
      `๐ง Email: ${payload.customer.email || '-'}`,
      `๐ Ville: ${payload.customer.city || '-'}`,
      `๐ Adresse: ${payload.customer.address || '-'}`,
      '',
      '๐๏ธ Dรฉtails de la commande:',
      lines,
      '',
      `๐ฐ Total: ${payload.total}`,
      '',
      `๐ Date: ${date}`,
      '',
      'โ๏ธ Action requise: Veuillez contacter le client pour confirmer la commande et l\'adresse dรจs que possible.',
    ].join('\n');
  }
}

function formatCustomerEmailPlain(payload) {
  const isAr = payload.language === 'ar';
  const c = payload.customer;
  const lines = payload.items.map((l, i) => `${i + 1}. ${l}`).join('\n');
  const date = new Date().toLocaleString(isAr ? 'ar-MA' : 'fr-MA');
  
  if (isAr) {
    return [
      `ุงูุณูุงู ุนูููู ${c.name}`,
      '',
      'ุดูุฑุงู ุนูู ุทูุจู ูู ุฎูุทุงุช ูููู ๐',
      '',
      '๐ฆ ููุฎุต ุงูุทูุจ:',
      lines,
      '',
      `๐ฐ ุงููุฌููุน: ${payload.total}`,
      '',
      '๐ ุนููุงู ุงูุชูุตูู:',
      `ุงููุฏููุฉ: ${c.city || '-'}`,
      `ุงูุนููุงู: ${c.address || '-'}`,
      '',
      '๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ:',
      'โ ุณูุชุตู ุจู ุฎูุงู 24 ุณุงุนุฉ ูุชุฃููุฏ ุงูุทูุจ',
      '๐ณ ุงูุฏูุน ุนูุฏ ุงูุงุณุชูุงู (COD)',
      '๐ ุงูุชูุตูู ุฎูุงู 2-4 ุฃูุงู ุนูู',
      '',
      `๐ ุชุงุฑูุฎ ุงูุทูุจ: ${date}`,
      '',
      'ูุฃู ุงุณุชูุณุงุฑุ ุชูุงุตู ูุนูุง:',
      `๐ฑ ูุงุชุณุงุจ: +${whatsappNumber}`,
      `๐ง ุงูุจุฑูุฏ: ${businessEmail}`,
      '',
      'ุดูุฑุงู ูุซูุชู ูู ุฎูุทุงุช ูููู! ๐ฟ',
    ].join('\n');
  } else {
    return [
      `Bonjour ${c.name}`,
      '',
      'Merci pour votre commande Lolo Blends ๐',
      '',
      '๐ฆ Rรฉsumรฉ de la commande:',
      lines,
      '',
      `๐ฐ Total: ${payload.total}`,
      '',
      '๐ Adresse de livraison:',
      `Ville: ${c.city || '-'}`,
      `Adresse: ${c.address || '-'}`,
      '',
      '๐ Prochaines รฉtapes:',
      'โ Nous vous contacterons sous 24h pour confirmer',
      '๐ณ Paiement ร la livraison (COD)',
      '๐ Livraison sous 2-4 jours ouvrรฉs',
      '',
      `๐ Date: ${date}`,
      '',
      'Pour toute question, contactez-nous:',
      `๐ฑ WhatsApp: +${whatsappNumber}`,
      `๐ง Email: ${businessEmail}`,
      '',
      'Merci de votre confiance! ๐ฟ',
    ].join('\n');
  }
}

// Send emails via Web3Forms
async function sendOrderEmails(payload) {
  // Send to admin
  const adminFD = new FormData();
  adminFD.append('access_key', WEB3FORMS_KEY);
  adminFD.append('subject', payload.subject);
  adminFD.append('from_name', 'Lolo Blends - ุฎูุทุงุช ูููู');
  adminFD.append('email', businessEmail);
  adminFD.append('reply_to', payload.customer.email || '');
  adminFD.append('message', formatAdminEmailPlain(payload));

  const adminResp = await fetch('https://api.web3forms.com/submit', { 
    method: 'POST', 
    body: adminFD 
  });
  
  if (!adminResp.ok) throw new Error('Admin email failed');

  // Send confirmation to customer (if email provided)
  if (payload.customer.email) {
    const custFD = new FormData();
    custFD.append('access_key', WEB3FORMS_KEY);
    custFD.append('subject', payload.language === 'ar' 
      ? 'ุชุฃููุฏ ุทูุจู ูู ุฎูุทุงุช ูููู' 
      : 'Confirmation de commande Lolo Blends');
    custFD.append('from_name', 'ุฎูุทุงุช ูููู - Lolo Blends');
    custFD.append('email', payload.customer.email);
    custFD.append('reply_to', businessEmail);
    custFD.append('message', formatCustomerEmailPlain(payload));
    
    await fetch('https://api.web3forms.com/submit', { 
      method: 'POST', 
      body: custFD 
    });
  }
  
  return true;
}

// Announce to screen readers
function announce(message) {
  const liveRegion = $('#liveRegion');
  if (liveRegion) {
    liveRegion.textContent = message;
    setTimeout(() => {
      liveRegion.textContent = '';
    }, 3000);
  }
}

// Form submission
const contactForm = $('#contactForm');
if (contactForm) {
  contactForm.addEventListener('submit', async (e) => {
    e.preventDefault();
    
    const name = $('#name');
    const phone = $('#phone');
    const city = $('#city');
    const addr = $('#address');
    
    // Clear previous errors
    [name, phone, city, addr].forEach(clearInvalid);
    
    // Validate required fields
    let hasError = false;
    
    if (!name.value.trim()) {
      markInvalid(name, currentLang === 'ar' ? 'โ ุงูุงุณู ูุทููุจ' : 'โ Nom requis');
      hasError = true;
    }
    
    if (!phone.value.trim()) {
      markInvalid(phone, currentLang === 'ar' ? 'โ ุฑูู ุงููุงุชู ูุทููุจ' : 'โ Tรฉlรฉphone requis');
      hasError = true;
    } else if (!validPhone(phone.value)) {
      markInvalid(phone, i18n[currentLang].phone_error);
      hasError = true;
    }
    
    if (!city.value.trim()) {
      markInvalid(city, currentLang === 'ar' ? 'โ ุงููุฏููุฉ ูุทููุจุฉ' : 'โ Ville requise');
      hasError = true;
    }
    
    if (!addr.value.trim()) {
      markInvalid(addr, currentLang === 'ar' ? 'โ ุงูุนููุงู ูุทููุจ' : 'โ Adresse requise');
      hasError = true;
    }
    
    if (hasError) {
      announce(i18n[currentLang].required_error);
      return;
    }
    
    // Build payload
    const payload = buildOrderPayload(
      name.value.trim(), 
      phone.value.trim(), 
      city.value.trim(), 
      addr.value.trim()
    );
    
    const btn = $('#orderSubmitBtn');
    
    if (btn) {
      btn.disabled = true;
      btn.textContent = i18n[currentLang].sending;
    }
    
    try {
      await sendOrderEmails(payload);
      
      // Success
      announce(i18n[currentLang].order_received);
      alert(i18n[currentLang].order_received);
      
      // Reset form and cart
      contactForm.reset();
      pendingBundle = null;
      cart.items = {};
      renderCart();
      renderOrderSummary();
      
      // Scroll to top
      window.scrollTo({ top: 0, behavior: 'smooth' });
      
    } catch (err) {
      console.error('Order submission error:', err);
      const errorMsg = currentLang === 'ar' 
        ? 'ุชุนุฐุฑ ุฅุฑุณุงู ุงูุทูุจ. ุฌุฑุจู ูุงุชุณุงุจ ุฃู ุฃุนูุฏู ุงููุญุงููุฉ.' 
        : 'Erreur d\'envoi. Essayez WhatsApp ou rรฉessayez.';
      alert(errorMsg);
      announce(errorMsg);
    } finally {
      if (btn) {
        btn.disabled = false;
        btn.textContent = i18n[currentLang].confirm_order;
      }
    }
  });
}

// Conditional video autoplay based on connection
const heroVideo = $('video[data-autoplay="conditional"]');
if (heroVideo) {
  const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
  const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
  
  if (prefersReducedMotion) {
    heroVideo.removeAttribute('autoplay');
    heroVideo.pause();
  } else if (connection) {
    const type = connection.effectiveType;
    if (type === '4g' || type === 'wifi') {
      heroVideo.autoplay = true;
      heroVideo.play().catch(() => {
        // Autoplay failed, user interaction required
      });
    }
  } else {
    // No connection API, assume good connection (desktop)
    heroVideo.autoplay = true;
    heroVideo.play().catch(() => {});
  }
}

// Simple navbar hide on scroll down / show on scroll up
let lastScrollY = window.scrollY;

window.addEventListener('scroll', () => {
  const navbar = document.getElementById('navbar');
  if (!navbar) return;

  const current = window.scrollY;

  // Apply "scrolled" effect (shadow / solid bg) once we leave the very top
  if (current > 10) {
    navbar.classList.add('scrolled');
  } else {
    navbar.classList.remove('scrolled');
  }

  // Hide on scroll down, show on scroll up
  if (current > lastScrollY) {
    // scrolling DOWN โ hide navbar
    navbar.classList.add('hide');
  } else if (current < lastScrollY) {
    // scrolling UP โ show navbar
    navbar.classList.remove('hide');
  }

  lastScrollY = current;
});

// Initialize
applyI18n(currentLang);
renderOrderSummary();

// Analytics events (ready for GA4/Segment integration)
function trackEvent(eventName, properties = {}) {
  // Log to console in development
  if (window.location.hostname === 'localhost') {
    console.log('๐ Event:', eventName, properties);
  }
  
  // Send to GA4 if available
  if (typeof gtag !== 'undefined') {
    gtag('event', eventName, properties);
  }
  
  // Send to Segment if available
  if (typeof analytics !== 'undefined') {
    analytics.track(eventName, properties);
  }
}

// Track page view
trackEvent('page_view', {
  page_title: document.title,
  page_language: currentLang
});

// Track bundle views
$$('[data-add-bundle]').forEach(btn => {
  const bundleId = btn.getAttribute('data-add-bundle');
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        trackEvent('view_item', {
          item_id: bundleId,
          item_name: bundles[bundleId][`name_${currentLang}`],
          price: bundles[bundleId].price,
          currency: 'MAD'
        });
        observer.disconnect();
      }
    });
  }, { threshold: 0.5 });
  
  observer.observe(btn.closest('.card-hover') || btn);
});

// Track add to cart
$$('[data-add-bundle]').forEach(btn => {
  btn.addEventListener('click', () => {
    const bundleId = btn.getAttribute('data-add-bundle');
    const bundle = bundles[bundleId];
    trackEvent('add_to_cart', {
      item_id: bundleId,
      item_name: bundle[`name_${currentLang}`],
      price: bundle.price,
      currency: 'MAD',
      quantity: 1
    });
  });
});

// Track WhatsApp clicks
$$('[data-wa], #whatsappCTA, #waOrderBtnCart').forEach(btn => {
  btn.addEventListener('click', () => {
    trackEvent('click_whatsapp', {
      button_location: btn.id || btn.getAttribute('data-wa'),
      items_count: cart.count(),
      cart_value: cart.total()
    });
  });
});

// Track form start
let formStartTracked = false;
$$('#contactForm input, #contactForm textarea').forEach(input => {
  input.addEventListener('focus', () => {
    if (!formStartTracked) {
      trackEvent('begin_checkout', {
        items_count: currentItems().length,
        cart_value: currentItems().reduce((a, b) => a + b.qty * b.price, 0)
      });
      formStartTracked = true;
    }
  }, { once: true });
});

// Service Worker registration (for offline support - optional)
if ('serviceWorker' in navigator && window.location.protocol === 'https:') {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('/sw.js').catch(() => {
      // Service worker registration failed, ignore
    });
  });
}

})();
</script>

</div>
</body>
</html>
